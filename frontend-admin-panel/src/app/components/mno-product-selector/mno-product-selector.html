<div id="mno-product-selector">
  <!-- Modal Header -->
  <div class="modal-header">
    <h3 class="modal-title">{{$ctrl.headerText | translate}}</h3>
    <div class="close" type="button" ng-click="$ctrl.dismissModal()">Ã—</div>
  </div>
  <!-- Modal Body -->
  <div ng-if="!$ctrl.billingDetailsRequired" class="modal-body" style="max-height:{{$ctrl.modalHeight}};">
    <div class="products-search">
      <input type="search" placeholder="{{ 'mnoe_admin_panel.components.mno-product-selector.search' | translate }}" ng-model="$ctrl.searchTerm" ng-change="$ctrl.onSearchChange()"/>
      <div class="col-sm-4">
        <select class="form-control" ng-model="$ctrl.selectedCategory" ng-options="c for c in $ctrl.categories" ng-change="$ctrl.onCategoryChange()">
          <option value=''>{{ 'mnoe_admin_panel.components.mno-product-selector.categories.select_all' | translate }}</option>
        </select>
      </div>
    </div>
    <div class="products-container">
      <div class="product-icon" ng-repeat="product in $ctrl.filteredProducts">
        <div class="product-icon-wrapper" ng-click="$ctrl.toggleProduct(product)" tooltip-class="{{product.orderDisabled && 'tooltip-info'}}" uib-tooltip="{{$ctrl.toolTipText(product)}}">
          <div class="checked" ng-show="product.checked">
            <i class="fa fa-check fa-5x"></i>
          </div>
          <img class="product-logo img-thumbnail" ng-class="{'product-disabled': product.orderDisabled}" ng-src="{{product.logo}}" alt="{{::product.name}} logo"/>
        </div>
        <div class="product-title" uib-tooltip="{{::product.name}}">
          {{::product.name}}
        </div>
      </div>
    </div>
  </div>
  <div ng-if="$ctrl.billingDetailsRequired" class="alert text-center alert-danger" translate>
    mnoe_admin_panel.components.mno-product-selector.billing_details_req
  </div>
  <!-- Modal Footer -->
  <div class="modal-footer">
    <div class="row">
      <div class="col-md-12">
        <button ng-click="$ctrl.dismissModal()" class="btn btn-default" translate>
          mnoe_admin_panel.components.mno-product-selector.cancel
        </button>
        <button ng-click="$ctrl.closeModal()" ng-disabled="$ctrl.billingDetailsRequired || $ctrl.selectedProducts.length === 0 || $ctrl.isLoadingProducts" class="btn btn-primary arrow">
          <span ng-show="$ctrl.isLoadingProducts"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>
          {{$ctrl.actionButtonText | translate}}
        </button>
      </div>
    </div>
  </div>
</div>
