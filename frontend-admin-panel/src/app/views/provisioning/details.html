<div id="provisioning-details">
  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{ vm.editPlanText | translate }}">
    <mno-widget-header>
      <div class="breadcrumb-info">
        <ol class="breadcrumb">
          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>
          <li class="breadcrumb-item active">{{ vm.subscription.product_pricing.name }}</li>
        </ol>
      </div>
    </mno-widget-header>
    <mno-widget-body ng-if="!vm.enableBSEditor">
      <form name="vm.detailsForm" ng-submit="vm.submit(vm.detailsForm)" sf-schema="vm.schema" sf-form="vm.form" sf-model="vm.model"></form>
    </mno-widget-body>
    <mno-widget-body ng-if="vm.enableBSEditor">
      <section class='editor-wrapper'>
        <blue-sky-json-editor
          schema-name="vm.subscription.product.external_id"
          schema="vm.schemaDetails.schema"
          heading="true"
          scrollable="true"
          editor="vm.schemaDetails.editor"
          initial-values="vm.schemaCopy"
          callback-function="vm.formValidation"
          error-translations="vm.errorTranslations"
          product-translations="vm.productTranslations">
        </blue-sky-json-editor>
      </section>
    </mno-widget-body>
  </mno-widget>

  <button ng-if="!vm.enableBSEditor" ng-click="vm.submit(vm.detailsForm)" ng-disabled="vm.isLoading || vm.detailsForm.$invalid" class="btn btn-primary pull-right top-buffer-1 bottom-buffer-1" translate>
    mnoe_admin_panel.dashboard.provisioning.details.next
  </button>
  <button ng-if="vm.enableBSEditor" ng-click="vm.submit(vm.schemaDetails.editor.getValue())" ng-disabled="vm.isLoading || !vm.editorValid" class='btn btn-primary pull-right top-buffer-1'  translate>
    mnoe_admin_panel.dashboard.provisioning.details.next
  </button>
</div>
