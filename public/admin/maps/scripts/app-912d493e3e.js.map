{"version":3,"sources":["/source/views/staff/create-staff-modal/create-staff.controller.js"],"names":["this","App","angular","module","call","config","$logProvider","toastrConfig","debugEnabled","allowHtml","timeOut","positionClass","preventDuplicates","progressBar","$httpProvider","interceptors","push","$q","$window","$injector","$log","responseError","rejection","toastr","status","get","location","href","error","reject","constant","userChanged","staffChanged","staffAdded","enabled","$stateProvider","$urlRouterProvider","state","abstract","templateUrl","controller","controllerAs","data","pageTitle","url","ncyBreadcrumb","label","views","@dashboard","resolve","skip","MnoeCurrentUser","skipIfNotAdmin","skipCondition","RoutingHelper","REVIEWS_CONFIG","skipUnlessCondition","otherwise","run","$rootScope","APP_NAME","app_name","$on","window","scrollTo","$scope","$cookies","$sce","MnoeMarketplace","MnoErrorsHandler","STAFF_PAGE_AUTH","main","mobileView","errorHandler","staffPageAuthorized","isReviewingEnabled","trustSrc","src","trustAsResourceUrl","getWidth","innerWidth","$watch","newValue","isDefined","toggle","toggleSidebar","put","exit","logout","onresize","$apply","getUser","then","user","service","_self","isConnected","instance","stack","isOauthConnected","oauth_keys_valid","oAuthConnectPath","extra_params","redirect","encodeURIComponent","pathname","hash","uid","canBeDataSynced","dataSyncPath","canBeDisconnected","disconnectPath","errorCache","processServerError","serverError","form","ref","_","startsWith","each","errors","key","$setValidity","errorMessage","name","result","msg","join","resetErrors","onlyServerError","every","$error","v","k","$uibModal","modalDefaults","modalOptions","closeButtonText","actionButtonText","headerText","bodyText","backdrop","keyboard","modalFade","showModal","customModalOptions","customModalDefaults","show","tempModalDefaults","tempModalOptions","extend","$uibModalInstance","ok","close","dismiss","open","directive","ITEMS_PER_PAGE","restrict","scope","totalItems","onChangeCb","nbItemsValues","nbItems","page","isLoading","link","pagination","maxPages","onPageChange","factory","Restangular","inflector","withConfig","RestangularProvider","setBaseUrl","setDefaultHeaders","Accept","setFullResponse","addResponseInterceptor","operation","what","response","deferred","extractedData","singularize","MnoeApiSvc","marketplaceApi","marketplacePromise","oneUrl","getApps","$filter","MnoeOrganizations","list","elem","attrs","displayCurrentState","fetchOrganizations","setAllOrganizationsList","setLastOrganizationsList","setSearchOrganizationsList","view","organizations","search","pageChangedCb","offset","limit","sort","loading","headers","switchState","widgetTitle","switchLinkTitle","searchChange","length","searchMode","terms","toLowerCase","name.like","displayNormalState","displayList","searchToLowerCase","filter","email","surname","contains","newVal","review","console","log","closeModal","submitIteraction","commentText","replyText","MnoeReviews","restric","fetchReviews","editmode","listOfReviews","statuses","openCommentModal","openEditModal","updateDescription","openFeedbackReplyModal","replyFeedback","id","unshift","app_comment","openQuestionReplyModal","replyQuestion","app_answer","update","updateRating","component","bindings","MnoeUsers","MnoConfirm","MnoeObservables","ADMIN_ROLES","OBS_KEYS","fetchStaffs","onStaffAdded","onStaffChanged","updateSearch","updateSort","vm","listOfStaff","callServer","tableState","staff","sortState","predicate","reverse","searchingState","attr","value","predicateObject","roles","updateStaff","refreshUser","remove","removeStaff","success","staffs","oneAdminLeft","admin_role","registerCb","$onDestroy","unsubscribe","ADMIN_PANEL_CONFIG","organization","setAllUsersList","setLastUsersList","setSearchUsersList","users","impersonation_enabled","impersonation","disabled","sendInvitation","isSendingInvite","inviteUser","impersonateUser","fetchUsers","surname.like","email.like","requires","currency","amount","number","transclude","icon","description","linkText","template","classes","title","observersCallbacks","cb","isEmpty","notifyObservers","object","forEach","callback","pull","$state","condition","$timeout","go","updateUsersCounter","invoices","inviteUserModal","totalCount","registerListChangeCb","promise","MnoeInvoices","MnoeTenantInvoices","currentBillingAmount","lastInvoicingAmount","lastPortfolioAmount","lastCommissionAmount","tenantInvoices","inArrears","org","category","capitalize","replace","moment","count","kpi","outstandingAmount","$stateParams","MnoAppsInstances","orgId","hasDisconnectedApps","createUserModal","modalInstance","members","plain","updateStatus","map","active_apps","app","nid","countBy","openAddAppModal","windowClass","size","copy","openRemoveAppModal","index","splice","createModal","displayed","userId","all","MnoeAdminApiSvc","terminate","one","userPromise","defer","assign","customGET","notifyListObservers","observerCallbacks","getList","order_by","listPromise","create","post","patch","question_id","feedback_id","_getStaffs","params","addUser","addStaff","doPOST","sendSignupEmail","$httpParamSerializer","perform","version","versions","connect","xero_country","countries","payroll","mnoAppInstances","connectAppInstance","modalInfo","$document","appSearch","toggleApp","checked","submitOrganisation","$invalid","element","document","getElementById","scrollToElementAnimated","app_nids","marketplace","apps","scrollTopAnimated","USER_ROLES","onSubmit","onCancel","modal_height","innerHeight","selectedApp","modal","displayError","activeAppNids","filtered_apps","includes","closeError","addApps","appNidsToAdd","union","active_apps_nids","nb_active_apps","nb_apps_to_add","intersection","app_nid","ListOfApps","difference","find","MnoeAppInstances","deleteApp","admin_roles","$templateCache"],"mappings":"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","file":"scripts/app-912d493e3e.js","sourcesContent":["(function() {\n  this.App = angular.module('frontendAdmin', ['mnoEnterprise.defaultConfiguration', 'mnoEnterprise.configuration', 'ngAnimate', 'ngAria', 'ngCookies', 'ngMessages', 'restangular', 'ui.router', 'ui.bootstrap', 'toastr', 'ncy-angular-breadcrumb', 'platanus.inflector', 'smart-table', 'angularMoment', 'duScroll', 'ngPageTitle']);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.config([\"$logProvider\", \"toastrConfig\", function($logProvider, toastrConfig) {\n    $logProvider.debugEnabled(true);\n    toastrConfig.allowHtml = true;\n    toastrConfig.timeOut = 3000;\n    toastrConfig.positionClass = 'toast-top-right';\n    toastrConfig.preventDuplicates = true;\n    return toastrConfig.progressBar = true;\n  }]).config([\"$httpProvider\", function($httpProvider) {\n    return $httpProvider.interceptors.push([\"$q\", \"$window\", \"$injector\", \"$log\", function($q, $window, $injector, $log) {\n      return {\n        responseError: function(rejection) {\n          var toastr;\n          if (rejection.status === 401) {\n            toastr = $injector.get('toastr');\n            $window.location.href = \"/\";\n            toastr.error(\"You are no longer connected or not an administrator, you will be redirected to the dashboard.\");\n            $log.error(\"User is not connected!\");\n          }\n          return $q.reject(rejection);\n        }\n      };\n    }]);\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.constant('USER_ROLES', ['Member', 'Power User', 'Admin', 'Super Admin']).constant('ADMIN_ROLES', ['admin', 'staff']).constant('STAFF_PAGE_AUTH', ['admin']).constant('OBS_KEYS', {\n    userChanged: 'userListChanged',\n    staffChanged: 'staffListChanged',\n    staffAdded: 'staffAdded'\n  });\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('mnoEnterprise.defaultConfiguration', []).constant('REVIEWS_CONFIG', {\n    enabled: false\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.config([\"$stateProvider\", \"$urlRouterProvider\", function($stateProvider, $urlRouterProvider) {\n    'ngInject';\n    $stateProvider.state('dashboard', {\n      abstract: true,\n      templateUrl: 'app/views/dashboard.layout.html',\n      controller: 'DashboardController',\n      controllerAs: 'main'\n    }).state('dashboard.home', {\n      data: {\n        pageTitle: 'Home'\n      },\n      url: '/home',\n      templateUrl: 'app/views/home/home.html',\n      controller: 'HomeController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'Home'\n      }\n    }).state('dashboard.home.user', {\n      data: {\n        pageTitle: 'User'\n      },\n      url: '^/user/:userId',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/user/user.html',\n          controller: 'UserController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'User'\n      }\n    }).state('dashboard.home.organization', {\n      data: {\n        pageTitle: 'Organization'\n      },\n      url: '^/organization/:orgId',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/organization/organization.html',\n          controller: 'OrganizationController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'Organisation'\n      }\n    }).state('dashboard.finance', {\n      data: {\n        pageTitle: 'Finance'\n      },\n      url: '/finance',\n      templateUrl: 'app/views/finance/finance.html',\n      controller: 'FinanceController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'Finance'\n      }\n    }).state('dashboard.staff', {\n      data: {\n        pageTitle: 'Staff'\n      },\n      url: '/staff',\n      templateUrl: 'app/views/staff/staff.html',\n      controller: 'StaffController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'Staff'\n      },\n      resolve: {\n        skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n          return MnoeCurrentUser.skipIfNotAdmin();\n        }]\n      }\n    }).state('dashboard.reviews', {\n      data: {\n        pageTitle: 'Reviews'\n      },\n      url: '/reviews',\n      templateUrl: 'app/views/reviews/reviews.html',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'Reviews'\n      },\n      resolve: {\n        skip: [\"MnoeCurrentUser\", function(MnoeCurrentUser) {\n          return MnoeCurrentUser.skipIfNotAdmin();\n        }],\n        skipCondition: [\"RoutingHelper\", \"REVIEWS_CONFIG\", function(RoutingHelper, REVIEWS_CONFIG) {\n          return RoutingHelper.skipUnlessCondition(REVIEWS_CONFIG && REVIEWS_CONFIG.enabled);\n        }]\n      }\n    }).state('dashboard.customers', {\n      data: {\n        pageTitle: 'Customers'\n      },\n      url: '/customers',\n      templateUrl: 'app/views/customers/customers.html',\n      controller: 'CustomersController',\n      controllerAs: 'vm',\n      ncyBreadcrumb: {\n        label: 'Customers'\n      }\n    }).state('dashboard.customers.create-step-1', {\n      url: '^/customers/create-customer',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/customers/create-step-1/create-step-1.html',\n          controller: 'CreateStep1Controller',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'Create a new customer'\n      }\n    }).state('dashboard.customers.connect-app', {\n      url: '^/customers/:orgId/connect-apps',\n      views: {\n        '@dashboard': {\n          templateUrl: 'app/views/customers/connect-app/connect-app.html',\n          controller: 'ConnectAppController',\n          controllerAs: 'vm'\n        }\n      },\n      ncyBreadcrumb: {\n        label: 'Connect cloud apps'\n      }\n    });\n    return $urlRouterProvider.otherwise('/home');\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.run([\"$rootScope\", \"APP_NAME\", function($rootScope, APP_NAME) {\n    return $rootScope.app_name = APP_NAME;\n  }]).run([\"$rootScope\", function($rootScope) {\n    return $rootScope.$on('$viewContentLoaded', function() {\n      return window.scrollTo(0, 0);\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('DashboardController', [\"$scope\", \"$cookies\", \"$sce\", \"MnoeMarketplace\", \"MnoErrorsHandler\", \"MnoeCurrentUser\", \"STAFF_PAGE_AUTH\", \"REVIEWS_CONFIG\", function($scope, $cookies, $sce, MnoeMarketplace, MnoErrorsHandler, MnoeCurrentUser, STAFF_PAGE_AUTH, REVIEWS_CONFIG) {\n    'ngInject';\n    var main, mobileView;\n    main = this;\n    main.errorHandler = MnoErrorsHandler;\n    main.staffPageAuthorized = STAFF_PAGE_AUTH;\n    main.isReviewingEnabled = REVIEWS_CONFIG && REVIEWS_CONFIG.enabled;\n    main.trustSrc = function(src) {\n      return $sce.trustAsResourceUrl(src);\n    };\n    mobileView = 992;\n    main.getWidth = function() {\n      return window.innerWidth;\n    };\n    $scope.$watch(main.getWidth, function(newValue) {\n      if (newValue >= mobileView) {\n        if (angular.isDefined($cookies.get('admin_platform_toggle'))) {\n          return main.toggle = !$cookies.get('admin_platform_toggle') ? false : true;\n        } else {\n          return main.toggle = true;\n        }\n      } else {\n        return main.toggle = false;\n      }\n    });\n    main.toggleSidebar = function() {\n      main.toggle = !main.toggle;\n      return $cookies.put('admin_platform_toggle', main.toggle);\n    };\n    main.exit = function() {\n      return MnoeCurrentUser.logout();\n    };\n    window.onresize = function() {\n      return $scope.$apply();\n    };\n    MnoeCurrentUser.getUser().then(main.user = MnoeCurrentUser.user);\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoAppsInstances', function() {\n    var _self;\n    _self = this;\n    this.isConnected = function(instance) {\n      return instance.stack === 'cube' || instance.stack === 'cloud' || _self.isOauthConnected(instance);\n    };\n    this.isOauthConnected = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.oAuthConnectPath = function(instance, extra_params) {\n      var redirect;\n      if (extra_params == null) {\n        extra_params = '';\n      }\n      redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/authorize?redirect_path=\" + redirect + \"&\" + extra_params;\n    };\n    this.canBeDataSynced = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.dataSyncPath = function(instance) {\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/sync\";\n    };\n    this.canBeDisconnected = function(instance) {\n      return instance.stack === 'connector' && instance.oauth_keys_valid;\n    };\n    this.disconnectPath = function(instance) {\n      return \"/mnoe/webhook/oauth/\" + instance.uid + \"/disconnect\";\n    };\n    return this;\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoErrorsHandler', [\"$log\", function($log) {\n    var _self, errorCache;\n    _self = this;\n    errorCache = null;\n    this.processServerError = function(serverError, form) {\n      var ref;\n      $log.error('An error occurred:', serverError);\n      if (_.startsWith(serverError.data, '<!DOCTYPE html>')) {\n        return;\n      }\n      if ((400 <= (ref = serverError.status) && ref <= 499)) {\n        errorCache = serverError;\n        return _.each(errorCache.data, function(errors, key) {\n          return _.each(errors, function() {\n            if (form[key] != null) {\n              return form[key].$setValidity('server', false);\n            } else {\n              return $log.error('MnoErrorsHandler: cannot find field:' + key);\n            }\n          });\n        });\n      }\n    };\n    this.errorMessage = function(name) {\n      var result;\n      result = [];\n      if (errorCache != null) {\n        _.each(errorCache.data[name], function(msg) {\n          return result.push(msg);\n        });\n      }\n      return result.join(', ');\n    };\n    this.resetErrors = function(form) {\n      if (errorCache != null) {\n        _.each(errorCache.data, function(errors, key) {\n          return _.each(errors, function() {\n            if (form[key] != null) {\n              return form[key].$setValidity('server', null);\n            }\n          });\n        });\n        return errorCache = null;\n      }\n    };\n    this.onlyServerError = function(form) {\n      return _.every(form.$error, function(v, k) {\n        return k === 'server';\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoConfirm', [\"$uibModal\", function($uibModal) {\n    var _self, modalDefaults, modalOptions;\n    _self = this;\n    modalOptions = {\n      closeButtonText: 'Close',\n      actionButtonText: 'OK',\n      headerText: 'Proceed?',\n      bodyText: 'Perform this action?'\n    };\n    modalDefaults = {\n      backdrop: true,\n      keyboard: true,\n      modalFade: true,\n      templateUrl: 'app/components/mno-confirm/mno-confirm.html'\n    };\n    this.showModal = function(customModalOptions, customModalDefaults) {\n      if (customModalDefaults == null) {\n        customModalDefaults = null;\n      }\n      if (customModalDefaults == null) {\n        customModalDefaults = {};\n      }\n      customModalDefaults.backdrop = 'static';\n      return _self.show(customModalOptions, customModalDefaults);\n    };\n    this.show = function(customModalOptions, customModalDefaults) {\n      var tempModalDefaults, tempModalOptions;\n      if (customModalDefaults == null) {\n        customModalDefaults = null;\n      }\n      tempModalDefaults = {};\n      tempModalOptions = {};\n      angular.extend(tempModalOptions, modalOptions, customModalOptions);\n      angular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\n      if (!tempModalDefaults.controller) {\n        tempModalDefaults.controller = [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n          'ngInject';\n          $scope.modalOptions = tempModalOptions;\n          $scope.modalOptions.ok = function(result) {\n            return $uibModalInstance.close(result);\n          };\n          return $scope.modalOptions.close = function(result) {\n            return $uibModalInstance.dismiss('cancel');\n          };\n        }];\n      }\n      return $uibModal.open(tempModalDefaults).result;\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.constant('ITEMS_PER_PAGE', [10, 20, 50, 100]);\n\n  this.App.directive('mnoPagination', [\"ITEMS_PER_PAGE\", function(ITEMS_PER_PAGE) {\n    return {\n      restrict: 'AE',\n      scope: {\n        totalItems: '=',\n        onChangeCb: '&',\n        nbItemsValues: '=?',\n        nbItems: '=',\n        page: '=',\n        isLoading: '=?'\n      },\n      templateUrl: 'app/components/mno-pagination/mno-pagination.html',\n      link: function(scope) {\n        scope.pagination = {\n          maxPages: 7\n        };\n        if (!scope.nbItemsValues) {\n          scope.nbItemsValues = ITEMS_PER_PAGE;\n        }\n        return scope.onPageChange = function() {\n          return scope.onChangeCb({\n            nbItems: scope.nbItems,\n            page: scope.page\n          });\n        };\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.factory('MnoeApiSvc', [\"$log\", \"Restangular\", \"inflector\", function($log, Restangular, inflector) {\n    return Restangular.withConfig(function(RestangularProvider) {\n      RestangularProvider.setBaseUrl('/mnoe/jpi/v1');\n      RestangularProvider.setDefaultHeaders({\n        Accept: \"application/json\"\n      });\n      RestangularProvider.setFullResponse(true);\n      return RestangularProvider.addResponseInterceptor(function(data, operation, what, url, response, deferred) {\n        var extractedData;\n        if (_.startsWith(what, '/')) {\n          return data;\n        }\n        extractedData = null;\n        if (operation === 'getList') {\n          extractedData = data[what];\n        } else if (operation === 'get' || operation === 'put' || operation === 'post') {\n          what = inflector.singularize(what);\n          extractedData = data[what];\n        } else {\n          extractedData = data;\n        }\n        return extractedData;\n      });\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeMarketplace', [\"$log\", \"MnoeApiSvc\", function($log, MnoeApiSvc) {\n    var _self, marketplaceApi, marketplacePromise;\n    _self = this;\n    marketplaceApi = MnoeApiSvc.oneUrl('/marketplace');\n    marketplacePromise = null;\n    this.getApps = function() {\n      if (marketplacePromise != null) {\n        return marketplacePromise;\n      }\n      return marketplacePromise = marketplaceApi.get();\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('mnoeOrganizationsList', [\"$filter\", \"$log\", \"MnoeOrganizations\", function($filter, $log, MnoeOrganizations) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '='\n      },\n      templateUrl: 'app/components/mnoe-organizations-list/mnoe-organizations-list.html',\n      link: function(scope, elem, attrs) {\n        var displayCurrentState, fetchOrganizations, setAllOrganizationsList, setLastOrganizationsList, setSearchOrganizationsList;\n        scope.state = attrs.view;\n        scope.organizations = {\n          search: '',\n          nbItems: 10,\n          page: 1,\n          pageChangedCb: function(nbItems, page) {\n            var offset;\n            scope.organizations.nbItems = nbItems;\n            scope.organizations.page = page;\n            offset = (page - 1) * nbItems;\n            return fetchOrganizations(nbItems, offset);\n          }\n        };\n        fetchOrganizations = function(limit, offset, sort) {\n          if (sort == null) {\n            sort = 'name';\n          }\n          scope.organizations.loading = true;\n          return MnoeOrganizations.list(limit, offset, sort).then(function(response) {\n            scope.organizations.totalItems = response.headers('x-total-count');\n            return scope.organizations.list = response.data;\n          }).then(function() {\n            return scope.organizations.loading = false;\n          });\n        };\n        scope.switchState = function() {\n          scope.state = attrs.view = attrs.view === 'all' ? 'last' : 'all';\n          return displayCurrentState();\n        };\n        displayCurrentState = function() {\n          if (attrs.view === 'all') {\n            setAllOrganizationsList();\n            return fetchOrganizations(scope.organizations.nbItems, 0);\n          } else if (attrs.view === 'last') {\n            setLastOrganizationsList();\n            return fetchOrganizations(scope.organizations.nbItems, 0, 'created_at.desc');\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        setAllOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'All organisations';\n          return scope.organizations.switchLinkTitle = '(last 10)';\n        };\n        setLastOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'Last 10 organisations';\n          return scope.organizations.switchLinkTitle = '(view all)';\n        };\n        scope.searchChange = function() {\n          if (scope.organizations.search.length >= 3) {\n            scope.searchMode = true;\n            return setSearchOrganizationsList(scope.organizations.search);\n          } else if (scope.searchMode) {\n            scope.searchMode = false;\n            return displayCurrentState();\n          }\n        };\n        setSearchOrganizationsList = function(search) {\n          var terms;\n          scope.organizations.loading = true;\n          scope.organizations.widgetTitle = 'Search result';\n          delete scope.organizations.switchLinkTitle;\n          search = scope.organizations.search.toLowerCase();\n          terms = {\n            'name.like': \"%\" + search + \"%\"\n          };\n          return MnoeOrganizations.search(terms).then(function(response) {\n            scope.organizations.totalItems = response.headers('x-total-count');\n            return scope.organizations.list = $filter('orderBy')(response.data, 'name');\n          })[\"finally\"](function() {\n            return scope.organizations.loading = false;\n          });\n        };\n        return displayCurrentState();\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('mnoeOrganizationsLocalList', [\"$filter\", \"$log\", function($filter, $log) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '='\n      },\n      templateUrl: 'app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html',\n      link: function(scope, elem, attrs) {\n        var displayNormalState, setAllOrganizationsList, setLastOrganizationsList, setSearchOrganizationsList;\n        scope.organizations = {\n          displayList: [],\n          widgetTitle: 'Loading organizations...',\n          search: ''\n        };\n        setAllOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'All organizations (' + scope.list.length + ')';\n          scope.organizations.switchLinkTitle = '(last 10)';\n          return scope.organizations.displayList = $filter('orderBy')(scope.list, 'email');\n        };\n        setLastOrganizationsList = function() {\n          scope.organizations.widgetTitle = 'Last 10 organizations';\n          scope.organizations.switchLinkTitle = '(view all)';\n          scope.organizations.displayList = $filter('orderBy')(scope.list, '-created_at');\n          return scope.organizations.displayList = $filter('limitTo')(scope.organizations.displayList, 10);\n        };\n        setSearchOrganizationsList = function() {\n          var searchToLowerCase;\n          scope.organizations.widgetTitle = 'Search result';\n          delete scope.organizations.switchLinkTitle;\n          searchToLowerCase = scope.organizations.search.toLowerCase();\n          scope.organizations.displayList = _.filter(scope.list, function(user) {\n            var email, name, surname;\n            if (user.email) {\n              email = _.contains(user.email.toLowerCase(), searchToLowerCase);\n            }\n            if (user.name) {\n              name = _.contains(user.name.toLowerCase(), searchToLowerCase);\n            }\n            if (user.surname) {\n              surname = _.contains(user.surname.toLowerCase(), searchToLowerCase);\n            }\n            return email || name || surname;\n          });\n          return scope.organizations.displayList = $filter('orderBy')(scope.organizations.displayList, 'email');\n        };\n        displayNormalState = function() {\n          if (attrs.view === 'all') {\n            return setAllOrganizationsList();\n          } else if (attrs.view === 'last') {\n            return setLastOrganizationsList();\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        scope.switchState = function() {\n          if (attrs.view === 'all') {\n            attrs.view = 'last';\n          } else {\n            attrs.view = 'all';\n          }\n          return displayNormalState();\n        };\n        scope.searchChange = function() {\n          if (scope.organizations.search === '') {\n            return displayNormalState();\n          } else {\n            return setSearchOrganizationsList();\n          }\n        };\n        return scope.$watch('list', function(newVal) {\n          if (newVal) {\n            return displayNormalState();\n          }\n        }, true);\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('frontendAdmin').controller('CommentEditModal', [\"$scope\", \"$uibModalInstance\", \"review\", function($scope, $uibModalInstance, review) {\n    console.log(review);\n    $scope.review = review;\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close(review);\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('frontendAdmin').controller('CommentModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.commentText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.dismiss();\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('frontendAdmin').controller('FeedbackReplyModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.replyText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close($scope.replyText);\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('mnoeReviewsList', [\"$filter\", \"$log\", \"$uibModal\", \"MnoeReviews\", function($filter, $log, $uibModal, MnoeReviews) {\n    return {\n      restric: 'E',\n      scope: {},\n      templateUrl: 'app/components/mnoe-reviews-list/mnoe-reviews-list.html',\n      link: function(scope) {\n        var fetchReviews;\n        scope.editmode = [];\n        scope.listOfReviews = [];\n        scope.statuses = ['approved', 'rejected'];\n        scope.openCommentModal = function() {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-reviews-list/comment-modal.html',\n            controller: 'CommentModal'\n          });\n        };\n        scope.openEditModal = function(review) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-reviews-list/comment-edit-modal.html',\n            controller: 'CommentEditModal',\n            resolve: {\n              review: review\n            }\n          }).result.then(function(review) {\n            return MnoeReviews.updateDescription(review).then(function(response) {});\n          });\n        };\n        scope.openFeedbackReplyModal = function(review) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-reviews-list/feedback-reply-modal.html',\n            controller: 'FeedbackReplyModal'\n          }).result.then(function(replyText) {\n            return MnoeReviews.replyFeedback(review.id, replyText).then(function(response) {\n              return scope.listOfReviews.unshift(response.data.app_comment);\n            });\n          });\n        };\n        scope.openQuestionReplyModal = function(review) {\n          return $uibModal.open({\n            templateUrl: 'app/components/mnoe-reviews-list/question-reply-modal.html',\n            controller: 'QuestionReplyModal'\n          }).result.then(function(replyText) {\n            return MnoeReviews.replyQuestion(review.id, replyText).then(function(response) {\n              return scope.listOfReviews.unshift(response.data.app_answer);\n            });\n          });\n        };\n        fetchReviews = function() {\n          return MnoeReviews.list().then(function(response) {\n            return scope.listOfReviews = response.data;\n          });\n        };\n        scope.update = function(review) {\n          return MnoeReviews.updateRating(review).then(function(response) {\n            return delete scope.editmode[review.id];\n          });\n        };\n        fetchReviews();\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  angular.module('frontendAdmin').controller('QuestionReplyModal', [\"$scope\", \"$uibModalInstance\", function($scope, $uibModalInstance) {\n    $scope.replyText = '';\n    $scope.closeModal = function() {\n      return $uibModalInstance.dismiss();\n    };\n    $scope.submitIteraction = function() {\n      return $uibModalInstance.close($scope.replyText);\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.component('mnoeStaffsList', {\n    templateUrl: 'app/components/mnoe-staffs-list/mnoe-staffs-list.html',\n    bindings: {\n      view: '@'\n    },\n    controller: [\"$filter\", \"$log\", \"MnoeUsers\", \"MnoeCurrentUser\", \"MnoConfirm\", \"MnoeObservables\", \"ADMIN_ROLES\", \"OBS_KEYS\", \"toastr\", function($filter, $log, MnoeUsers, MnoeCurrentUser, MnoConfirm, MnoeObservables, ADMIN_ROLES, OBS_KEYS, toastr) {\n      var fetchStaffs, onStaffAdded, onStaffChanged, updateSearch, updateSort, vm;\n      vm = this;\n      vm.listOfStaff = [];\n      vm.callServer = function(tableState) {\n        var search, sort;\n        sort = updateSort(tableState.sort);\n        search = updateSearch(tableState.search);\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset, sort, search);\n      };\n      updateSort = function(sortState) {\n        var sort;\n        if (sortState == null) {\n          sortState = {};\n        }\n        sort = \"surname\";\n        if (sortState.predicate) {\n          sort = sortState.predicate;\n          if (sortState.reverse) {\n            sort += \".desc\";\n          } else {\n            sort += \".asc\";\n          }\n        }\n        vm.staff.sort = sort;\n        return sort;\n      };\n      updateSearch = function(searchingState) {\n        var attr, ref, search, value;\n        if (searchingState == null) {\n          searchingState = {};\n        }\n        search = {};\n        if (searchingState.predicateObject) {\n          ref = searchingState.predicateObject;\n          for (attr in ref) {\n            value = ref[attr];\n            if (attr === \"admin_role\") {\n              search['where[admin_role.in][]'] = [value];\n            } else {\n              search['where[' + attr + '.like]'] = value + '%';\n            }\n          }\n        }\n        vm.staff.search = search;\n        return search;\n      };\n      vm.state = vm.view;\n      vm.staff = {\n        editmode: [],\n        search: {},\n        sort: \"surname\",\n        nbItems: 10,\n        page: 1,\n        roles: ADMIN_ROLES,\n        pageChangedCb: function(nbItems, page) {\n          var offset;\n          vm.staff.nbItems = nbItems;\n          vm.staff.page = page;\n          offset = (page - 1) * nbItems;\n          return fetchStaffs(nbItems, offset);\n        },\n        update: function(staff) {\n          return MnoeUsers.updateStaff(staff).then(function(response) {\n            updateSort();\n            updateSearch();\n            delete vm.staff.editmode[staff.id];\n            return MnoeCurrentUser.refreshUser();\n          }, function(error) {\n            $log.error('Error while saving user', error);\n            return toastr.error('An error occurred while saving the user.');\n          });\n        },\n        remove: function(staff) {\n          var modalOptions;\n          modalOptions = {\n            closeButtonText: 'Cancel',\n            actionButtonText: 'Delete Team Member',\n            headerText: 'Delete ' + staff.name + ' ' + staff.surname + '?',\n            bodyText: 'Are you sure you want to delete this team member?'\n          };\n          return MnoConfirm.showModal(modalOptions).then(function() {\n            console.log('Remove staff role:' + staff);\n            return MnoeUsers.removeStaff(staff.id).then(function() {\n              return toastr.success(staff.name + \" \" + staff.surname + \" has been successfully removed.\");\n            });\n          });\n        }\n      };\n      fetchStaffs = function(limit, offset, sort, search) {\n        if (sort == null) {\n          sort = vm.staff.sort;\n        }\n        if (search == null) {\n          search = vm.staff.search;\n        }\n        vm.staff.loading = true;\n        return MnoeUsers.staffs(limit, offset, sort, search).then(function(response) {\n          vm.staff.totalItems = response.headers('x-total-count');\n          vm.listOfStaff = response.data;\n          return vm.staff.oneAdminLeft = _.filter(response.data, {\n            'admin_role': 'admin'\n          }).length === 1;\n        })[\"finally\"](function() {\n          return vm.staff.loading = false;\n        });\n      };\n      onStaffAdded = function() {\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset);\n      };\n      onStaffChanged = function() {\n        return fetchStaffs(vm.staff.nbItems, vm.staff.offset);\n      };\n      MnoeObservables.registerCb(OBS_KEYS.staffAdded, onStaffAdded);\n      MnoeObservables.registerCb(OBS_KEYS.staffChanged, onStaffChanged);\n      this.$onDestroy = function() {\n        MnoeObservables.unsubscribe(OBS_KEYS.staffAdded, onStaffAdded);\n        return MnoeObservables.unsubscribe(OBS_KEYS.staffChanged, onStaffChanged);\n      };\n    }]\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('mnoeUsersLocalList', [\"$window\", \"$filter\", \"$log\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"ADMIN_PANEL_CONFIG\", function($window, $filter, $log, toastr, MnoeUsers, MnoErrorsHandler, ADMIN_PANEL_CONFIG) {\n    return {\n      restrict: 'E',\n      scope: {\n        list: '=',\n        organization: '='\n      },\n      templateUrl: 'app/components/mnoe-users-local-list/mnoe-users-local-list.html',\n      link: function(scope, elem, attrs) {\n        var displayNormalState, setAllUsersList, setLastUsersList, setSearchUsersList;\n        scope.users = {\n          displayList: [],\n          widgetTitle: 'Loading users...',\n          search: ''\n        };\n        scope.impersonation_enabled = ADMIN_PANEL_CONFIG.impersonation ? !ADMIN_PANEL_CONFIG.impersonation.disabled : true;\n        setAllUsersList = function() {\n          scope.users.widgetTitle = 'All users (' + scope.list.length + ')';\n          scope.users.switchLinkTitle = '(last 10)';\n          return scope.users.displayList = $filter('orderBy')(scope.list, 'email');\n        };\n        setLastUsersList = function() {\n          scope.users.widgetTitle = 'Last 10 users';\n          scope.users.switchLinkTitle = '(view all)';\n          scope.users.displayList = $filter('orderBy')(scope.list, '-created_at');\n          return scope.users.displayList = $filter('limitTo')(scope.users.displayList, 10);\n        };\n        setSearchUsersList = function() {\n          var searchToLowerCase;\n          scope.users.widgetTitle = 'Search result';\n          delete scope.users.switchLinkTitle;\n          searchToLowerCase = scope.users.search.toLowerCase();\n          scope.users.displayList = _.filter(scope.list, function(user) {\n            var email, name, surname;\n            if (user.email) {\n              email = _.contains(user.email.toLowerCase(), searchToLowerCase);\n            }\n            if (user.name) {\n              name = _.contains(user.name.toLowerCase(), searchToLowerCase);\n            }\n            if (user.surname) {\n              surname = _.contains(user.surname.toLowerCase(), searchToLowerCase);\n            }\n            return email || name || surname;\n          });\n          return scope.users.displayList = $filter('orderBy')(scope.users.displayList, 'email');\n        };\n        displayNormalState = function() {\n          if (attrs.view === 'all') {\n            return setAllUsersList();\n          } else if (attrs.view === 'last') {\n            return setLastUsersList();\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        scope.switchState = function() {\n          if (attrs.view === 'all') {\n            attrs.view = 'last';\n          } else {\n            attrs.view = 'all';\n          }\n          return displayNormalState();\n        };\n        scope.searchChange = function() {\n          if (scope.users.search === '') {\n            return displayNormalState();\n          } else {\n            return setSearchUsersList();\n          }\n        };\n        scope.sendInvitation = function(user) {\n          user.isSendingInvite = true;\n          return MnoeUsers.inviteUser(scope.organization, user).then(function(response) {\n            toastr.success(user.name + \" \" + user.surname + \"'s invitation has been sent.\");\n            return user.status = response.data.user.status;\n          }, function(error) {\n            toastr.error(\"An error occurred: \" + user.name + \" \" + user.surname + \"'s invitation has not been sent.\");\n            return MnoErrorsHandler.processServerError(error);\n          })[\"finally\"](function() {\n            return user.isSendingInvite = false;\n          });\n        };\n        scope.impersonateUser = function(user) {\n          var redirect, url;\n          if (user) {\n            redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n            url = \"/mnoe/impersonate/user/\" + user.id + \"?redirect_path=\" + redirect;\n            return $window.location.href = url;\n          }\n        };\n        return scope.$watch('list', function(newVal) {\n          if (newVal) {\n            return displayNormalState();\n          }\n        }, true);\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('mnoeUsersList', [\"$filter\", \"$log\", \"MnoeUsers\", function($filter, $log, MnoeUsers) {\n    return {\n      restrict: 'E',\n      scope: {},\n      templateUrl: 'app/components/mnoe-users-list/mno-users-list.html',\n      link: function(scope, elem, attrs) {\n        var displayCurrentState, fetchUsers, setAllUsersList, setLastUsersList, setSearchUsersList;\n        scope.state = attrs.view;\n        scope.users = {\n          search: '',\n          nbItems: 10,\n          page: 1,\n          pageChangedCb: function(nbItems, page) {\n            var offset;\n            scope.users.nbItems = nbItems;\n            scope.users.page = page;\n            offset = (page - 1) * nbItems;\n            return fetchUsers(nbItems, offset);\n          }\n        };\n        fetchUsers = function(limit, offset, sort) {\n          if (sort == null) {\n            sort = 'surname';\n          }\n          scope.users.loading = true;\n          return MnoeUsers.list(limit, offset, sort).then(function(response) {\n            scope.users.totalItems = response.headers('x-total-count');\n            return scope.users.list = response.data;\n          })[\"finally\"](function() {\n            return scope.users.loading = false;\n          });\n        };\n        scope.switchState = function() {\n          scope.state = attrs.view = attrs.view === 'all' ? 'last' : 'all';\n          return displayCurrentState();\n        };\n        displayCurrentState = function() {\n          if (attrs.view === 'all') {\n            setAllUsersList();\n            return fetchUsers(scope.users.nbItems, 0);\n          } else if (attrs.view === 'last') {\n            setLastUsersList();\n            return fetchUsers(10, 0, 'created_at.desc');\n          } else {\n            return $log.error('Value of attribute view can only be \"all\" or \"last\"');\n          }\n        };\n        setAllUsersList = function() {\n          scope.users.widgetTitle = 'All users';\n          return scope.users.switchLinkTitle = '(last 10)';\n        };\n        setLastUsersList = function() {\n          scope.users.widgetTitle = 'Last 10 users';\n          return scope.users.switchLinkTitle = '(view all)';\n        };\n        scope.searchChange = function() {\n          if (scope.users.search.length >= 3) {\n            scope.searchMode = true;\n            return setSearchUsersList(scope.users.search);\n          } else if (scope.searchMode) {\n            scope.searchMode = false;\n            return displayCurrentState();\n          }\n        };\n        setSearchUsersList = function(search) {\n          var terms;\n          scope.users.loading = true;\n          scope.users.widgetTitle = 'Search result';\n          delete scope.users.switchLinkTitle;\n          search = scope.users.search.toLowerCase();\n          terms = {\n            'surname.like': search + \"%\",\n            'name.like': search + \"%\",\n            'email.like': \"%\" + search + \"%\"\n          };\n          return MnoeUsers.search(terms).then(function(response) {\n            scope.users.totalItems = response.headers('x-total-count');\n            return scope.users.list = $filter('orderBy')(response.data, 'email');\n          })[\"finally\"](function() {\n            return scope.users.loading = false;\n          });\n        };\n        return displayCurrentState();\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdKpiBodyCurrency', function() {\n    return {\n      requires: '^rdKpi',\n      scope: {\n        currency: '@',\n        amount: '@'\n      },\n      templateUrl: 'app/components/rdash-angular/kpi-body-currency.html',\n      restrict: 'E'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdKpiBodyNumber', function() {\n    return {\n      requires: '^rdKpi',\n      scope: {\n        number: '@'\n      },\n      templateUrl: 'app/components/rdash-angular/kpi-body-number.html',\n      restrict: 'E'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdKpi', function() {\n    return {\n      transclude: true,\n      scope: {\n        icon: '@',\n        description: '@',\n        link: '@',\n        linkText: '@',\n        loading: '=?'\n      },\n      templateUrl: 'app/components/rdash-angular/kpi.html',\n      restrict: 'EA'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdLoading', function() {\n    return {\n      restrict: 'AE',\n      template: '<div class=\"loading\"><div class=\"double-bounce1\"></div><div class=\"double-bounce2\"></div></div>'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdWidgetBody', function() {\n    return {\n      requires: '^rdWidget',\n      scope: {\n        loading: '=?',\n        classes: '@?'\n      },\n      transclude: true,\n      template: '<div class=\"widget-body\" ng-class=\"classes\"><rd-loading ng-show=\"loading\"></rd-loading><div ng-hide=\"loading\" class=\"widget-content\" ng-transclude></div></div>',\n      restrict: 'E'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdWidgetFooter', function() {\n    return {\n      requires: '^rdWidget',\n      transclude: true,\n      template: '<div class=\"widget-footer\" ng-transclude></div>',\n      restrict: 'E'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdWidgetHeader', function() {\n    return {\n      requires: '^rdWidget',\n      scope: {\n        title: '@',\n        icon: '@'\n      },\n      transclude: true,\n      template: '<div class=\"widget-header\"><div class=\"row\"><div class=\"pull-left\"><i class=\"fa\" ng-class=\"icon\"></i> {{title}} </div><div ng-transclude></div></div></div>',\n      restrict: 'E'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.directive('rdWidget', function() {\n    return {\n      scope: {\n        loading: '=?',\n        classes: '@?'\n      },\n      transclude: true,\n      template: '<div class=\"widget\"><rd-loading ng-show=\"loading\"></rd-loading><div ng-hide=\"loading\" ng-transclude></div></div>',\n      restrict: 'EA'\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeObservables', function() {\n    var _self, observersCallbacks;\n    _self = this;\n    observersCallbacks = {};\n    this.registerCb = function(name, cb) {\n      if (_.isEmpty(observersCallbacks[name])) {\n        observersCallbacks[name] = [];\n      }\n      return observersCallbacks[name].push(cb);\n    };\n    this.notifyObservers = function(name, object) {\n      return _.forEach(observersCallbacks[name], function(callback) {\n        return callback(object);\n      });\n    };\n    this.unsubscribe = function(name, cb) {\n      _.pull(observersCallbacks[name], cb);\n      if (_.isEmpty(observersCallbacks[name])) {\n        return delete observersCallbacks[name];\n      }\n    };\n  });\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('RoutingHelper', [\"$state\", \"$q\", function($state, $q) {\n    var _self;\n    _self = this;\n    this.skipUnlessCondition = function(condition) {\n      if (condition) {\n        return $q.resolve();\n      } else {\n        $timeout(function() {\n          return $state.go('dashboard.home');\n        });\n        return $q.reject();\n      }\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('CustomersController', [\"$scope\", \"$uibModal\", \"MnoeUsers\", \"MnoeOrganizations\", \"MnoeObservables\", \"OBS_KEYS\", function($scope, $uibModal, MnoeUsers, MnoeOrganizations, MnoeObservables, OBS_KEYS) {\n    'ngInject';\n    var updateUsersCounter, vm;\n    vm = this;\n    vm.users = {};\n    vm.organizations = {};\n    vm.invoices = {};\n    vm.inviteUserModal = function() {\n      return $uibModal.open({\n        templateUrl: 'app/views/customers/invite-user-modal/invite-user.html',\n        controller: 'InviteUserController',\n        controllerAs: 'vm'\n      });\n    };\n    updateUsersCounter = function(response) {\n      vm.users.totalCount = response.headers('x-total-count');\n    };\n    MnoeObservables.registerCb(OBS_KEYS.userChanged, updateUsersCounter);\n    MnoeOrganizations.registerListChangeCb(function(promise) {\n      return promise.then(function(response) {\n        return vm.organizations.totalCount = response.headers('x-total-count');\n      });\n    });\n    $scope.$on('$destroy', function() {\n      return MnoeObservables.unsubscribe(OBS_KEYS.userChanged, updateUsersCounter);\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('FinanceController', [\"$filter\", \"MnoeInvoices\", \"MnoeTenantInvoices\", \"MnoeOrganizations\", function($filter, MnoeInvoices, MnoeTenantInvoices, MnoeOrganizations) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.invoices = {};\n    vm.organizations = {};\n    MnoeInvoices.currentBillingAmount().then(function(response) {\n      return vm.invoices.currentBillingAmount = response.data;\n    });\n    MnoeInvoices.lastInvoicingAmount().then(function(response) {\n      return vm.invoices.lastInvoicingAmount = response.data;\n    });\n    MnoeInvoices.lastPortfolioAmount().then(function(response) {\n      return vm.invoices.lastPortfolioAmount = response.data;\n    });\n    MnoeInvoices.lastCommissionAmount().then(function(response) {\n      return vm.invoices.lastCommissionAmount = response.data;\n    });\n    MnoeTenantInvoices.list().then(function(response) {\n      vm.invoices.tenantInvoices = response.data;\n      return vm.invoices.tenantInvoices = $filter('orderBy')(vm.invoices.tenantInvoices, '-started_at');\n    });\n    MnoeOrganizations.inArrears().then(function(response) {\n      vm.organizations.inArrears = response.data;\n      _.forEach(vm.organizations.inArrears, function(org) {\n        return org.category = _.capitalize(org.category.replace(\"_\", \" \"));\n      });\n      return vm.organizations.inArrears = $filter('orderBy')(vm.organizations.inArrears, '-started_at');\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('HomeController', [\"moment\", \"MnoeUsers\", \"MnoeOrganizations\", \"MnoeInvoices\", function(moment, MnoeUsers, MnoeOrganizations, MnoeInvoices) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.users = {};\n    vm.organizations = {};\n    vm.invoices = {};\n    MnoeUsers.count().then(function(response) {\n      return vm.users.kpi = response.data;\n    });\n    MnoeOrganizations.count().then(function(response) {\n      return vm.organizations.kpi = response.data;\n    });\n    MnoeInvoices.lastInvoicingAmount().then(function(response) {\n      return vm.invoices.lastInvoicingAmount = response.data;\n    });\n    MnoeInvoices.outstandingAmount().then(function(response) {\n      return vm.invoices.outstandingAmount = response.data;\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('OrganizationController', [\"$filter\", \"$stateParams\", \"$uibModal\", \"toastr\", \"MnoeOrganizations\", \"MnoeUsers\", \"MnoAppsInstances\", function($filter, $stateParams, $uibModal, toastr, MnoeOrganizations, MnoeUsers, MnoAppsInstances) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.orgId = $stateParams.orgId;\n    vm.users = {};\n    vm.hasDisconnectedApps = false;\n    vm.status = {};\n    vm.users.createUserModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/create-user-modal/create-user.html',\n        controller: 'CreateUserController',\n        controllerAs: 'vm',\n        resolve: {\n          organization: vm.organization\n        }\n      });\n      return modalInstance.result.then(function(user) {\n        return vm.organization.members.push(user);\n      });\n    };\n    MnoeOrganizations.get($stateParams.orgId).then(function(response) {\n      vm.organization = response.data.plain();\n      vm.organization.invoices = $filter('orderBy')(vm.organization.invoices, '-started_at');\n      return vm.updateStatus();\n    });\n    vm.updateStatus = function() {\n      vm.status = {};\n      _.map(vm.organization.active_apps, function(app) {\n        return vm.status[app.nid] = MnoAppsInstances.isConnected(app);\n      });\n      return vm.hasDisconnectedApps = false in _.countBy(vm.status);\n    };\n    vm.openAddAppModal = function() {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/add-app-modal/add-app-modal.html',\n        controller: 'AddAppModalCtrl',\n        controllerAs: 'vm',\n        backdrop: 'static',\n        windowClass: 'add-app-modal',\n        size: 'lg',\n        resolve: {\n          organization: vm.organization\n        }\n      });\n      return modalInstance.result.then(function(organization) {\n        vm.organization = angular.copy(organization);\n        return vm.updateStatus();\n      });\n    };\n    vm.openRemoveAppModal = function(app, index) {\n      var modalInstance;\n      modalInstance = $uibModal.open({\n        templateUrl: 'app/views/organization/remove-app-modal/remove-app-modal.html',\n        controller: 'RemoveAppModalCtrl',\n        controllerAs: 'vm',\n        backdrop: 'static',\n        windowClass: 'remove-app-modal',\n        size: 'md',\n        resolve: {\n          app: app\n        }\n      });\n      return modalInstance.result.then(function(result) {\n        if (result) {\n          vm.organization.active_apps.splice(index, 1);\n          return vm.updateStatus();\n        }\n      });\n    };\n    return vm;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('StaffController', [\"$filter\", \"$stateParams\", \"$uibModal\", \"toastr\", \"MnoeUsers\", \"MnoAppsInstances\", function($filter, $stateParams, $uibModal, toastr, MnoeUsers, MnoAppsInstances) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.staff = {\n      createModal: function() {\n        var modalInstance;\n        return modalInstance = $uibModal.open({\n          templateUrl: 'app/views/staff/create-staff-modal/create-staff.html',\n          controller: 'CreateStaffController',\n          controllerAs: 'vm'\n        });\n      }\n    };\n    vm.displayed = [];\n    vm.callServer = function(tableState) {\n      console.log(tableState);\n      return vm.isLoading = false;\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('UserController', [\"$stateParams\", \"$window\", \"MnoeUsers\", \"ADMIN_PANEL_CONFIG\", function($stateParams, $window, MnoeUsers, ADMIN_PANEL_CONFIG) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.impersonation_enabled = ADMIN_PANEL_CONFIG.impersonation ? !ADMIN_PANEL_CONFIG.impersonation.disabled : true;\n    MnoeUsers.get($stateParams.userId).then(function(response) {\n      return vm.user = response.data;\n    });\n    vm.impersonateUser = function() {\n      var redirect, url;\n      if (vm.user) {\n        redirect = window.encodeURIComponent(\"\" + location.pathname + location.hash);\n        url = \"/mnoe/impersonate/user/\" + vm.user.id + \"?redirect_path=\" + redirect;\n        return $window.location.href = url;\n      }\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.factory('MnoeAdminApiSvc', [\"MnoeApiSvc\", function(MnoeApiSvc) {\n    return MnoeApiSvc.all('admin');\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeAppInstances', [\"MnoeAdminApiSvc\", \"toastr\", function(MnoeAdminApiSvc, toastr) {\n    var _self;\n    _self = this;\n    this.terminate = function(id) {\n      return MnoeAdminApiSvc.one('app_instances', id).remove().then(function(response) {}, function(error) {\n        return toastr.error(\"There was a problem and your app has not been deleted.\");\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeCurrentUser', [\"$window\", \"$state\", \"$q\", \"$timeout\", \"MnoeApiSvc\", function($window, $state, $q, $timeout, MnoeApiSvc) {\n    var _self, userPromise;\n    _self = this;\n    userPromise = null;\n    this.user = {};\n    this.getUser = function() {\n      if (userPromise != null) {\n        return userPromise;\n      }\n      return userPromise = MnoeApiSvc.one('current_user').get().then(function(response) {\n        angular.copy(response.data, _self.user);\n        return response.data;\n      });\n    };\n    this.skipIfNotAdmin = function() {\n      var deferred;\n      deferred = $q.defer();\n      _self.getUser().then(function() {\n        if ((_self.user.admin_role != null) && _self.user.admin_role === 'admin') {\n          return deferred.resolve();\n        } else {\n          $timeout(function() {\n            return $state.go('dashboard.home');\n          });\n          return deferred.reject();\n        }\n      });\n      return deferred;\n    };\n    this.logout = function() {\n      return _self.getUser().then(function(response) {\n        if ((response.organizations != null) && response.organizations.length > 0) {\n          return $window.location.assign(\"/dashboard/\");\n        } else {\n          return $window.location.assign(\"/dashboard/#!/logout\");\n        }\n      });\n    };\n    this.refreshUser = function() {\n      userPromise = null;\n      return _self.getUser().then(function() {\n        return _self.skipIfNotAdmin();\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeInvoices', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self;\n    _self = this;\n    this.currentBillingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('current_billing_amount');\n    };\n    this.lastInvoicingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_invoicing_amount');\n    };\n    this.outstandingAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('outstanding_amount');\n    };\n    this.lastPortfolioAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_portfolio_amount');\n    };\n    this.lastCommissionAmount = function() {\n      return MnoeAdminApiSvc.all('invoices').customGET('last_commission_amount');\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeOrganizations', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self, notifyListObservers, observerCallbacks;\n    _self = this;\n    this.list = function(limit, offset, sort) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"organizations\").getList({\n        order_by: sort,\n        limit: limit,\n        offset: offset\n      }).then(function(response) {\n        notifyListObservers(promise);\n        return response;\n      });\n    };\n    observerCallbacks = [];\n    this.registerListChangeCb = function(callback) {\n      return observerCallbacks.push(callback);\n    };\n    notifyListObservers = function(listPromise) {\n      return _.forEach(observerCallbacks, function(callback) {\n        return callback(listPromise);\n      });\n    };\n    this.search = function(terms) {\n      return MnoeAdminApiSvc.all(\"organizations\").getList({\n        terms: terms\n      });\n    };\n    this.inArrears = function() {\n      return MnoeAdminApiSvc.all('organizations').all('in_arrears').getList();\n    };\n    this.get = function(id) {\n      return MnoeAdminApiSvc.one('organizations', id).get();\n    };\n    this.count = function() {\n      return MnoeAdminApiSvc.all('organizations').customGET('count');\n    };\n    this.create = function(organization) {\n      return MnoeAdminApiSvc.all('/organizations').post(organization);\n    };\n    this.update = function(organization) {\n      return MnoeAdminApiSvc.one('/organizations', organization.id).patch(organization);\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeReviews', [\"MnoeAdminApiSvc\", \"$log\", \"toastr\", function(MnoeAdminApiSvc, $log, toastr) {\n    var _self;\n    _self = this;\n    this.list = function() {\n      return MnoeAdminApiSvc.all('app_reviews').getList().then(function(response) {\n        return response;\n      }, function(error) {\n        $log.error('Error while fetching reviews', error);\n        return toastr.error('An error occured while fetching the reviews.');\n      });\n    };\n    this.updateRating = function(review) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('app_reviews', review.id).patch({\n        status: review.status\n      }).then(function(response) {\n        return response;\n      }, function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('An error occured while updating the review.');\n      });\n    };\n    this.updateDescription = function(review) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('app_reviews', review.id).patch({\n        description: review.description\n      }).then(function(response) {\n        return response;\n      }, function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('An error occured while updating the review.');\n      });\n    };\n    this.replyQuestion = function(id, replyText) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"/app_answers\").post({\n        question_id: id,\n        app_answer: {\n          description: replyText\n        }\n      }).then(function(response) {\n        return response;\n      }, function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('An error occured while replying to question.');\n      });\n    };\n    this.replyFeedback = function(id, replyText) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all(\"/app_comments\").post({\n        feedback_id: id,\n        app_comment: {\n          description: replyText\n        }\n      }).then(function(response) {\n        return response;\n      }, function(error) {\n        $log.error('Error while updating review', error);\n        return toastr.error('An error occured while replying to review.');\n      });\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeTenantInvoices', [\"MnoeAdminApiSvc\", function(MnoeAdminApiSvc) {\n    var _self;\n    _self = this;\n    this.list = function() {\n      return MnoeAdminApiSvc.all('tenant_invoices').getList();\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.service('MnoeUsers', [\"$q\", \"$log\", \"MnoeAdminApiSvc\", \"MnoeObservables\", \"OBS_KEYS\", function($q, $log, MnoeAdminApiSvc, MnoeObservables, OBS_KEYS) {\n    var _getStaffs, _self;\n    _self = this;\n    this.list = function(limit, offset, sort) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all('users').getList({\n        order_by: sort,\n        limit: limit,\n        offset: offset\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.userChanged, response);\n        return response;\n      });\n    };\n    this.staffs = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      if (!params['where[admin_role.in][]']) {\n        params['where[admin_role.not]'] = '';\n      }\n      return _getStaffs(limit, offset, sort, params);\n    };\n    this.search = function(terms) {\n      return MnoeAdminApiSvc.all('users').getList({\n        terms: terms\n      });\n    };\n    this.get = function(id) {\n      return MnoeAdminApiSvc.one('users', id).get();\n    };\n    this.count = function() {\n      return MnoeAdminApiSvc.all('users').customGET('count');\n    };\n    this.addUser = function(organization, user) {\n      return MnoeAdminApiSvc.one('organizations', organization.id).all('/users').post({\n        user: user\n      });\n    };\n    this.addStaff = function(user) {\n      var promise;\n      return promise = MnoeAdminApiSvc.all('users').post({\n        user: user\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.staffAdded, promise);\n        return response;\n      });\n    };\n    this.updateStaff = function(user) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('users', user.id).patch({\n        user: user\n      }).then(function(response) {\n        MnoeObservables.notifyObservers(OBS_KEYS.staffChanged, promise);\n        return response;\n      });\n    };\n    this.removeStaff = function(id) {\n      var promise;\n      return promise = MnoeAdminApiSvc.one('users', id).patch({\n        admin_role: null\n      }).then(function(response) {\n        return MnoeObservables.notifyObservers(OBS_KEYS.staffChanged, promise);\n      }, function(error) {\n        $log.error('Error while deleting user', error);\n        return toastr.error('An error occured while deleting the user.');\n      });\n    };\n    this.inviteUser = function(organization, user) {\n      return MnoeAdminApiSvc.one('organizations', organization.id).one('users', user.id).doPOST({}, '/invites');\n    };\n    this.sendSignupEmail = function(email) {\n      return MnoeAdminApiSvc.all('/users').doPOST({\n        user: {\n          email: email\n        }\n      }, 'signup_email');\n    };\n    _getStaffs = function(limit, offset, sort, params) {\n      if (params == null) {\n        params = {};\n      }\n      params[\"order_by\"] = sort;\n      params[\"limit\"] = limit;\n      params[\"offset\"] = offset;\n      return MnoeAdminApiSvc.all(\"users\").getList(params);\n    };\n    return this;\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('ConnectMyobModalCtrl', [\"$window\", \"$httpParamSerializer\", \"$uibModalInstance\", \"MnoAppsInstances\", \"app\", function($window, $httpParamSerializer, $uibModalInstance, MnoAppsInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.form = {\n      perform: true,\n      version: \"essentials\"\n    };\n    vm.versions = [\n      {\n        name: \"Account Right Live\",\n        value: \"account_right\"\n      }, {\n        name: \"Essentials\",\n        value: \"essentials\"\n      }\n    ];\n    vm.connect = function(form) {\n      return $window.location.href = MnoAppsInstances.oAuthConnectPath(app, $httpParamSerializer(form));\n    };\n    vm.close = function() {\n      return $uibModalInstance.close();\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('ConnectXeroModalCtrl', [\"$window\", \"$httpParamSerializer\", \"$uibModalInstance\", \"MnoAppsInstances\", \"app\", function($window, $httpParamSerializer, $uibModalInstance, MnoAppsInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.form = {\n      perform: true,\n      \"xero_country\": \"AU\"\n    };\n    vm.countries = [\n      {\n        name: \"Australia\",\n        value: \"AU\"\n      }, {\n        name: \"USA\",\n        value: \"US\"\n      }\n    ];\n    vm.connect = function(form) {\n      if (vm.payroll) {\n        form['extra_params[]'] = \"payroll\";\n      }\n      return $window.location.href = MnoAppsInstances.oAuthConnectPath(app, $httpParamSerializer(form));\n    };\n    vm.close = function() {\n      return $uibModalInstance.close();\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('ConnectAppController', [\"$stateParams\", \"$window\", \"$uibModal\", \"MnoeOrganizations\", \"MnoAppsInstances\", function($stateParams, $window, $uibModal, MnoeOrganizations, MnoAppsInstances) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.mnoAppInstances = MnoAppsInstances;\n    vm.orgId = $stateParams.orgId;\n    vm.isLoading = true;\n    MnoeOrganizations.get($stateParams.orgId).then(function(response) {\n      return vm.organization = response.data;\n    })[\"finally\"](function() {\n      return vm.isLoading = false;\n    });\n    vm.connectAppInstance = function(app) {\n      var modalInfo;\n      switch (app.nid) {\n        case \"xero\":\n          modalInfo = {\n            template: \"app/views/customers/app-connect-modal/app-connect-modal-xero.html\",\n            controller: 'ConnectXeroModalCtrl'\n          };\n          break;\n        case \"myob\":\n          modalInfo = {\n            template: \"app/views/customers/app-connect-modal/app-connect-modal-myob.html\",\n            controller: 'ConnectMyobModalCtrl'\n          };\n          break;\n        default:\n          $window.location.href = MnoAppsInstances.oAuthConnectPath(app);\n          return;\n      }\n      return $uibModal.open({\n        templateUrl: modalInfo.template,\n        controller: modalInfo.controller,\n        controllerAs: 'vm',\n        resolve: {\n          app: function() {\n            return app;\n          }\n        }\n      });\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('CreateStep1Controller', [\"$scope\", \"$document\", \"$state\", \"toastr\", \"MnoeOrganizations\", \"MnoeMarketplace\", \"MnoErrorsHandler\", function($scope, $document, $state, toastr, MnoeOrganizations, MnoeMarketplace, MnoErrorsHandler) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.organization = {};\n    vm.appSearch = \"\";\n    vm.toggleApp = function(app) {\n      return app.checked = !app.checked;\n    };\n    vm.submitOrganisation = function() {\n      var form;\n      if (vm.form.$invalid) {\n        if (!MnoErrorsHandler.onlyServerError(vm.form)) {\n          form = angular.element(document.getElementById('org-form'));\n          $document.scrollToElementAnimated(form);\n          return;\n        }\n      }\n      vm.isLoading = true;\n      MnoErrorsHandler.resetErrors(vm.form);\n      vm.organization.app_nids = _.map(_.filter(vm.marketplace.apps, {\n        checked: true\n      }), 'nid');\n      return MnoeOrganizations.create(vm.organization).then(function(response) {\n        toastr.success(\"Organisation \" + vm.organization.name + \" has been successfully created.\");\n        response = response.data.plain();\n        if (_.isEmpty(response.organization.active_apps)) {\n          return $state.go('dashboard.home.organization', {\n            orgId: response.organization.id\n          });\n        } else {\n          return $state.go('dashboard.customers.connect-app', {\n            orgId: response.organization.id\n          });\n        }\n      }, function(error) {\n        $document.scrollTopAnimated(0);\n        toastr.error(\"An error occurred while creating organisation \" + vm.organization.name + \".\");\n        return MnoErrorsHandler.processServerError(error, vm.form);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    MnoeMarketplace.getApps().then(function(response) {\n      return vm.marketplace = angular.copy(response.data);\n    });\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('InviteUserController', [\"$filter\", \"$stateParams\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"USER_ROLES\", function($filter, $stateParams, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, USER_ROLES) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.USER_ROLES = USER_ROLES;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.sendSignupEmail(vm.user.email).then(function(success) {\n        toastr.success(\"An email to \" + vm.user.email + \" has been successfully sent.\");\n        return $uibModalInstance.close(vm.user.email);\n      }, function(error) {\n        toastr.error(\"An error occurred while sending an email to \" + vm.user.email + \".\");\n        return MnoErrorsHandler.processServerError(error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('AddAppModalCtrl', [\"$scope\", \"$uibModalInstance\", \"$window\", \"MnoeMarketplace\", \"MnoeOrganizations\", \"organization\", \"toastr\", function($scope, $uibModalInstance, $window, MnoeMarketplace, MnoeOrganizations, organization, toastr) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.modal_height = ($window.innerHeight - 200) + \"px\";\n    vm.selectedApp = {};\n    vm.organization = angular.copy(organization);\n    vm.loading = {\n      modal: true,\n      apps: false\n    };\n    vm.displayError = false;\n    MnoeMarketplace.getApps().then(function(response) {\n      var activeAppNids;\n      vm.marketplace = angular.copy(response.data.plain());\n      activeAppNids = _.map(organization.active_apps, 'nid');\n      return vm.marketplace.filtered_apps = _.filter(vm.marketplace.apps, function(app) {\n        if (!_.includes(activeAppNids, app.nid)) {\n          return app;\n        }\n      });\n    })[\"finally\"](function() {\n      return vm.loading.modal = false;\n    });\n    vm.toggleApp = function(app) {\n      return app.checked = !app.checked;\n    };\n    vm.closeError = function() {\n      return vm.displayError = false;\n    };\n    vm.addApps = function() {\n      vm.loading.apps = true;\n      vm.appNidsToAdd = _.map(_.filter(vm.marketplace.apps, {\n        checked: true\n      }), 'nid');\n      vm.organization.app_nids = _.union(vm.appNidsToAdd, _.map(organization.active_apps, 'nid'));\n      if (vm.appNidsToAdd.length === 0) {\n        vm.closeModal();\n        return;\n      }\n      return MnoeOrganizations.update(vm.organization).then(function(success) {\n        var active_apps_nids, nb_active_apps, nb_apps_to_add;\n        nb_active_apps = success.data.plain().organization.active_apps.length;\n        nb_apps_to_add = vm.organization.app_nids.length;\n        vm.organization = success.data.plain().organization;\n        if (nb_active_apps === nb_apps_to_add) {\n          return vm.closeModal();\n        } else {\n          vm.displayError = true;\n          active_apps_nids = typeof active_apps !== \"undefined\" && active_apps !== null ? _.map(active_apps, 'nid') : [];\n          _.map(_.intersection(vm.appNidsToAdd, active_apps_nids), function(app_nid) {\n            return _.remove(vm.marketplace.filtered_apps, {\n              nid: app_nid\n            });\n          });\n          return vm.ListOfApps = _.map(_.difference(vm.appNidsToAdd, active_apps_nids), function(app_nid) {\n            return _.find(vm.marketplace.filtered_apps, {\n              nid: app_nid\n            }).name;\n          });\n        }\n      }, function(error) {\n        return toastr.error(\"We could not process your request, please try again.\", {\n          preventDuplicates: false\n        });\n      })[\"finally\"](function() {\n        return vm.loading.apps = false;\n      });\n    };\n    vm.closeModal = function() {\n      return $uibModalInstance.close(vm.organization);\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('CreateUserController', [\"$filter\", \"$stateParams\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"USER_ROLES\", \"organization\", function($filter, $stateParams, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, USER_ROLES, organization) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.USER_ROLES = USER_ROLES;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.addUser(organization, vm.user).then(function(success) {\n        toastr.success(vm.user.name + \" \" + vm.user.surname + \" has been successfully added.\");\n        return $uibModalInstance.close(success.data.user);\n      }, function(error) {\n        toastr.error(\"An error occurred while adding \" + vm.user.name + \" \" + vm.user.surname + \".\");\n        return MnoErrorsHandler.processServerError(error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('RemoveAppModalCtrl', [\"$scope\", \"$uibModalInstance\", \"MnoeAppInstances\", \"app\", function($scope, $uibModalInstance, MnoeAppInstances, app) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.app = app;\n    vm.modal = {\n      loading: false\n    };\n    vm.deleteApp = function() {\n      vm.modal.loading = true;\n      return MnoeAppInstances.terminate(vm.app.id).then(function(success) {\n        vm.errors = null;\n        return $uibModalInstance.close(true);\n      })[\"finally\"](function() {\n        return vm.modal.loading = false;\n      });\n    };\n    vm.closeModal = function() {\n      return $uibModalInstance.close(false);\n    };\n  }]);\n\n}).call(this);\n\n\n\n(function() {\n  this.App.controller('CreateStaffController', [\"$filter\", \"$stateParams\", \"$log\", \"$uibModalInstance\", \"toastr\", \"MnoeUsers\", \"MnoErrorsHandler\", \"ADMIN_ROLES\", function($filter, $stateParams, $log, $uibModalInstance, toastr, MnoeUsers, MnoErrorsHandler, ADMIN_ROLES) {\n    'ngInject';\n    var vm;\n    vm = this;\n    vm.admin_roles = ADMIN_ROLES;\n    vm.onSubmit = function() {\n      vm.isLoading = true;\n      return MnoeUsers.addStaff(vm.user).then(function(success) {\n        toastr.success(vm.user.name + \" \" + vm.user.surname + \" has been successfully added.\");\n        return $uibModalInstance.close(success.data);\n      }, function(error) {\n        toastr.error(\"An error occurred while adding \" + vm.user.name + \" \" + vm.user.surname + \".\");\n        return $log.error(\"An error occurred:\", error);\n      })[\"finally\"](function() {\n        return vm.isLoading = false;\n      });\n    };\n    vm.onCancel = function() {\n      return $uibModalInstance.dismiss('cancel');\n    };\n  }]);\n\n}).call(this);\n\n\n\nangular.module(\"frontendAdmin\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"app/views/dashboard.layout.html\",\"<div id=\\\"page-wrapper\\\" ng-class=\\\"{\\'open\\': main.toggle}\\\" ng-cloak=\\\"\\\"><div id=\\\"sidebar-wrapper\\\"><ul class=\\\"sidebar\\\"><li class=\\\"sidebar-main\\\"><a ng-click=\\\"main.toggleSidebar()\\\">Dashboard <span class=\\\"menu-icon glyphicon glyphicon-transfer\\\"></span></a></li><li class=\\\"sidebar-title\\\"><span>NAVIGATION</span></li><li class=\\\"sidebar-list\\\"><a href=\\\"#/home\\\">Dashboard <span class=\\\"menu-icon fa fa-tachometer\\\"></span></a></li><li class=\\\"sidebar-list\\\"><a href=\\\"#/finance\\\">Finance <span class=\\\"menu-icon fa fa-money\\\"></span></a></li><li class=\\\"sidebar-list\\\"><a href=\\\"#/customers\\\">Customers<span class=\\\"menu-icon fa fa-users\\\"></span></a></li><li class=\\\"sidebar-list\\\" ng-show=\\\"main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1\\\"><a href=\\\"#/staff\\\">Staff <span class=\\\"menu-icon fa fa-wrench\\\"></span></a></li><li class=\\\"sidebar-list\\\" ng-show=\\\"main.staffPageAuthorized.indexOf(main.user.admin_role)!=-1\\\" ng-if=\\\"main.isReviewingEnabled\\\"><a href=\\\"#/reviews\\\">Comments <span class=\\\"menu-icon fa fa-comment\\\"></span></a></li></ul></div><div id=\\\"content-wrapper\\\"><div class=\\\"page-content\\\"><div class=\\\"row header\\\"><div class=\\\"col-xs-12\\\"><div class=\\\"user pull-right\\\"><div class=\\\"item\\\" uib-dropdown=\\\"\\\"><a href=\\\"#\\\" uib-dropdown-toggle=\\\"\\\"><span>{{ main.user.name }} {{ main.user.surname }}</span> <img src=\\\"assets/images/avatar.jpg\\\"></a><ul class=\\\"dropdown-menu dropdown-menu-right\\\"><li class=\\\"link\\\"><a ng-click=\\\"main.exit()\\\" href=\\\"\\\">Exit</a></li></ul></div></div><div class=\\\"meta\\\"><div class=\\\"page\\\">Admin Platform</div><div class=\\\"breadcrumb-links\\\"><div ncy-breadcrumb=\\\"\\\"></div></div></div></div></div><div ui-view=\\\"\\\"></div></div></div></div>\");\n$templateCache.put(\"app/components/mno-confirm/mno-confirm.html\",\"<div class=\\\"modal-header\\\"><button type=\\\"button\\\" class=\\\"close\\\" aria-label=\\\"Close\\\" ng-click=\\\"modalOptions.close()\\\"><span aria-hidden=\\\"true\\\">&times;</span></button><h4 class=\\\"modal-title\\\">{{modalOptions.headerText}}</h4></div><div class=\\\"modal-body\\\"><p>{{modalOptions.bodyText}}</p></div><div class=\\\"modal-footer\\\"><button type=\\\"button\\\" class=\\\"btn btn-default\\\" ng-click=\\\"modalOptions.close()\\\">{{modalOptions.closeButtonText}}</button> <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"modalOptions.ok();\\\">{{modalOptions.actionButtonText}}</button></div>\");\n$templateCache.put(\"app/components/mno-pagination/mno-pagination.html\",\"<div class=\\\"nb-items-col\\\"><label># of items</label><select class=\\\"items-per-page-select form-control\\\" ng-model=\\\"nbItems\\\" ng-change=\\\"onPageChange()\\\" ng-options=\\\"i for i in nbItemsValues\\\" ng-disabled=\\\"isLoading\\\"></select></div><uib-pagination ng-model=\\\"page\\\" ng-show=\\\"totalItems > nbItems\\\" total-items=\\\"totalItems\\\" items-per-page=\\\"nbItems\\\" ng-change=\\\"onPageChange()\\\" max-size=\\\"pagination.maxPages\\\" rotate=\\\"false\\\" ng-disabled=\\\"isLoading\\\"></uib-pagination>\");\n$templateCache.put(\"app/components/mnoe-organizations-list/mnoe-organizations-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-sitemap\\\" title=\\\"{{organizations.widgetTitle}}\\\">&nbsp;<a href=\\\"\\\" ng-click=\\\"switchState()\\\" ng-show=\\\"organizations.list && organizations.switchLinkTitle\\\" ng-class=\\\"{\\'disabled\\': organizations.loading}\\\">{{organizations.switchLinkTitle}}</a> <input type=\\\"text\\\" ng-model=\\\"organizations.search\\\" ng-change=\\\"searchChange()\\\" ng-model-options=\\\"{ debounce: 1000 }\\\" placeholder=\\\"Search all\\\" class=\\\"form-control input-sm search-bar\\\"></rd-widget-header><rd-widget-body loading=\\\"organizations.loading\\\" classes=\\\"large no-padding\\\"><table class=\\\"table table-layout-fixed\\\"><thead><tr><th>Name</th><th style=\\\"width: 100px;\\\">Creation</th></tr></thead><tbody><tr ng-repeat=\\\"organization in organizations.list\\\"><td><a ui-sref=\\\"dashboard.home.organization({orgId: organization.id})\\\">{{::organization.name}}</a></td><td>{{::organization.created_at | date: \\'dd/MM/yyyy\\'}}</td></tr></tbody></table></rd-widget-body><rd-widget-footer ng-show=\\\"organizations.list && state == \\'all\\' && !searchMode\\\"><mno-pagination page=\\\"organizations.page\\\" nb-items=\\\"organizations.nbItems\\\" total-items=\\\"organizations.totalItems\\\" on-change-cb=\\\"organizations.pageChangedCb(nbItems, page)\\\" is-loading=\\\"organizations.loading\\\"></mno-pagination></rd-widget-footer></rd-widget>\");\n$templateCache.put(\"app/components/mnoe-organizations-local-list/mnoe-organizations-local-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-sitemap\\\" title=\\\"{{organizations.widgetTitle}}\\\">&nbsp;<a href=\\\"\\\" ng-click=\\\"switchState()\\\" ng-show=\\\"list && organizations.switchLinkTitle\\\">{{organizations.switchLinkTitle}}</a> <input type=\\\"text\\\" ng-model=\\\"organizations.search\\\" ng-change=\\\"searchChange()\\\" placeholder=\\\"Search all\\\" class=\\\"form-control input-sm search-bar\\\"></rd-widget-header><rd-widget-body loading=\\\"!list\\\" classes=\\\"large no-padding\\\"><table class=\\\"table table-layout-fixed\\\"><thead><tr><th>Name</th><th style=\\\"width: 100px;\\\">Creation</th></tr></thead><tbody><tr ng-repeat=\\\"organization in organizations.displayList\\\"><td><a ui-sref=\\\"dashboard.home.organization({orgId: organization.id})\\\">{{::organization.name}}</a></td><td>{{organization.created_at | date: \\'dd/MM/yyyy\\'}}</td></tr></tbody></table></rd-widget-body></rd-widget>\");\n$templateCache.put(\"app/components/mnoe-reviews-list/comment-edit-modal.html\",\"<div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"closeModal()\\\">×</div><h3>Edit this feedback:</h3></div><div class=\\\"modal-body\\\"><div class=\\\"main-area comment-input\\\"><textarea ng-model=\\\"review.description\\\" rows=\\\"8\\\" cols=\\\"40\\\"></textarea></div></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"closeModal()\\\">Cancel</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"submitIteraction()\\\">Submit</button></div></div></div>\");\n$templateCache.put(\"app/components/mnoe-reviews-list/comment-modal.html\",\"<div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"closeModal()\\\">×</div><h3>Comment this feedback:</h3></div><div class=\\\"modal-body\\\"><div class=\\\"main-area comment-input\\\"><textarea ng-model=\\\"commentText\\\" rows=\\\"8\\\" cols=\\\"40\\\"></textarea></div></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"closeModal()\\\">Cancel</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"submitIteraction()\\\">Submit</button></div></div></div>\");\n$templateCache.put(\"app/components/mnoe-reviews-list/feedback-reply-modal.html\",\"<div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"closeModal()\\\">×</div><h3>Reply to Feedback:</h3></div><div class=\\\"modal-body\\\"><div class=\\\"main-area comment-input\\\"><textarea ng-model=\\\"replyText\\\" rows=\\\"8\\\" cols=\\\"40\\\"></textarea></div></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"closeModal()\\\">Cancel</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"submitIteraction()\\\">Submit</button></div></div></div>\");\n$templateCache.put(\"app/components/mnoe-reviews-list/mnoe-reviews-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-comment\\\">&nbsp;All comments</rd-widget-header><rd-widget-body classes=\\\"large no-padding widget-comments\\\"><div><table class=\\\"table\\\"><table class=\\\"table table-striped\\\"><thead><tr><th>Author</th><th>Company</th><th>App</th><th>Type</th><th>Message</th><th>Rating</th><th>Date</th><th>Status</th><th>Edit</th></tr></thead><tbody><tr ng-repeat=\\\"review in listOfReviews\\\"><td>{{review.user_name}}</td><td>{{review.organization_name}}</td><td>{{review.app_name}}</td><td>{{review.type}}</td><td><p>{{review.description}}</p><div class=\\\"text-right\\\"><button type\\\"\\\"=\\\"\\\" name=\\\"button\\\" ng-click=\\\"openQuestionReplyModal(review)\\\" ng-show=\\\"review.type == \\'Question\\'\\\">Reply</button> <button type=\\\"\\\" name=\\\"button\\\" ng-click=\\\"openFeedbackReplyModal(review)\\\" ng-show=\\\"review.type == \\'Feedback\\'\\\">Comment</button> <button type=\\\"\\\" name=\\\"button\\\" ng-click=\\\"openEditModal(review)\\\">Edit</button></div></td><td>{{review.rating}}</td><td>{{review.created_at | date: \\'dd/MM/yyyy\\' }}</td><td><span ng-show=\\\"!editmode[review.id]\\\">{{review.status}}</span><select ng-model=\\\"review.status\\\" ng-show=\\\"editmode[review.id]\\\"><option ng-repeat=\\\"status in statuses\\\" value=\\\"{{status}}\\\">{{status}}</option></select></td><td><a href=\\\"\\\" ng-hide=\\\"editmode[review.id]\\\" ng-click=\\\"editmode[review.id] = true\\\"><i class=\\\"fa fa-pencil\\\"></i></a> <a href=\\\"\\\" ng-show=\\\"editmode[review.id]\\\" ng-click=\\\"update(review)\\\"><i class=\\\"fa fa-check\\\"></i></a></td></tr></tbody></table></table></div></rd-widget-body></rd-widget>\");\n$templateCache.put(\"app/components/mnoe-reviews-list/question-reply-modal.html\",\"<div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"closeModal()\\\">×</div><h3>Reply to question:</h3></div><div class=\\\"modal-body\\\"><div class=\\\"main-area comment-input\\\"><textarea ng-model=\\\"replyText\\\" rows=\\\"8\\\" cols=\\\"40\\\"></textarea></div></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button class=\\\"btn btn-default\\\" ng-click=\\\"closeModal()\\\">Cancel</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"submitIteraction()\\\">Submit</button></div></div></div>\");\n$templateCache.put(\"app/components/mnoe-staffs-list/mnoe-staffs-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-wrench\\\" title=\\\"{{$ctrl.staff.widgetTitle}}\\\">&nbsp;All staff</rd-widget-header><rd-widget-body classes=\\\"large no-padding\\\"><div><table class=\\\"table\\\" st-pipe=\\\"$ctrl.callServer\\\" st-table=\\\"$ctrl.displayed\\\"><table st-pipe=\\\"$ctrl.callServer\\\" st-table=\\\"$ctrl.listOfStaff\\\" class=\\\"table table-striped\\\"><thead><tr><th st-sort=\\\"name\\\" class=\\\"col-lg-2\\\">First name</th><th st-sort=\\\"surname\\\" class=\\\"col-lg-3\\\">Last name</th><th st-sort=\\\"created_at\\\" class=\\\"col-lg-3\\\">Creation</th><th st-sort=\\\"admin_role\\\" class=\\\"col-lg-3\\\">Role</th><th></th><th></th></tr><tr><th><input st-search=\\\"name\\\" placeholder=\\\"Search for name\\\" class=\\\"form-control input-sm search-bar\\\" type=\\\"text\\\"></th><th><input st-search=\\\"surname\\\" placeholder=\\\"Search for surname\\\" class=\\\"form-control input-sm search-bar\\\" type=\\\"text\\\"></th><th></th><th><select st-search=\\\"admin_role\\\" class=\\\"form-control input-sm\\\"><option value=\\\"\\\">All</option><option ng-repeat=\\\"role in $ctrl.staff.roles\\\" value=\\\"{{role}}\\\">{{role}}</option></select></th><th></th><th></th></tr></thead><tbody ng-show=\\\"$ctrl.staff.loading\\\"><tr><td colspan=\\\"6\\\" class=\\\"text-center\\\">Loading ...</td></tr></tbody><tbody ng-show=\\\"!$ctrl.staff.loading\\\"><tr ng-repeat=\\\"staffElem in $ctrl.listOfStaff\\\"><td>{{staffElem.name}}</td><td>{{staffElem.surname}}</td><td>{{staffElem.created_at | date: \\'dd/MM/yyyy\\'}}</td><td><span ng-show=\\\"!$ctrl.staff.editmode[staffElem.id]\\\">{{staffElem.admin_role}}</span><select ng-model=\\\"staffElem.admin_role\\\" ng-show=\\\"$ctrl.staff.editmode[staffElem.id]\\\" class=\\\"user-role-select form-control input-sm\\\"><option ng-repeat=\\\"role in $ctrl.staff.roles\\\" value=\\\"{{role}}\\\">{{role}}</option></select></td><td><div ng-hide=\\\"$ctrl.staff.oneAdminLeft && staffElem.admin_role == \\'admin\\'\\\"><a href=\\\"\\\" ng-hide=\\\"$ctrl.staff.editmode[staffElem.id]\\\" ng-click=\\\"$ctrl.staff.editmode[staffElem.id] = true\\\"><i class=\\\"fa fa-pencil\\\"></i></a></div></td><td><div ng-hide=\\\"$ctrl.staff.oneAdminLeft && staffElem.admin_role == \\'admin\\'\\\"><a href=\\\"\\\" ng-hide=\\\"$ctrl.staff.editmode[staffElem.id]\\\" ng-click=\\\"$ctrl.staff.remove(staffElem)\\\"><i class=\\\"fa fa-times\\\"></i></a></div><a href=\\\"\\\" ng-show=\\\"$ctrl.staff.editmode[staffElem.id]\\\" ng-click=\\\"$ctrl.staff.update(staffElem)\\\"><i class=\\\"fa fa-check\\\"></i></a></td></tr></tbody></table></table></div></rd-widget-body><rd-widget-footer ng-show=\\\"$ctrl.listOfStaff && $ctrl.state == \\'all\\' && !searchMode\\\"><mno-pagination page=\\\"$ctrl.staff.page\\\" nb-items=\\\"$ctrl.staff.nbItems\\\" total-items=\\\"$ctrl.staff.totalItems\\\" on-change-cb=\\\"$ctrl.staff.pageChangedCb(nbItems, page)\\\" is-loading=\\\"$ctrl.staff.loading\\\"></mno-pagination></rd-widget-footer></rd-widget>\");\n$templateCache.put(\"app/components/mnoe-users-list/mno-users-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-users\\\" title=\\\"{{users.widgetTitle}}\\\">&nbsp;<a href=\\\"\\\" ng-click=\\\"switchState()\\\" ng-show=\\\"users.list && users.switchLinkTitle\\\" ng-class=\\\"{\\'disabled\\': users.loading}\\\">{{users.switchLinkTitle}}</a> <input type=\\\"text\\\" ng-model=\\\"users.search\\\" ng-change=\\\"searchChange()\\\" ng-model-options=\\\"{ debounce: 1000 }\\\" placeholder=\\\"Search all\\\" class=\\\"form-control input-sm search-bar\\\"></rd-widget-header><rd-widget-body loading=\\\"users.loading\\\" classes=\\\"large no-padding\\\"><table class=\\\"table table-layout-fixed\\\"><thead><tr><th>Username</th><th width=\\\"110\\\">Last login</th><th width=\\\"100\\\">Creation</th></tr></thead><tbody><tr ng-repeat=\\\"user in users.list\\\"><td><a ui-sref=\\\"dashboard.home.user({userId: user.id})\\\"><div ng-show=\\\"user.name && user.surname\\\">{{::user.name}} {{::user.surname}}</div><div ng-show=\\\"!user.name && !user.surname\\\">nc</div><small>{{::user.email}}</small></a></td><td><span data-toggle=\\\"tooltip\\\" title=\\\"{{::user.last_sign_in_at | date: \\'H:m - dd/MM/yyyy\\'}}\\\">{{(user.last_sign_in_at | amTimeAgo) || \\'never\\'}}</span></td><td>{{::user.created_at | date: \\'dd/MM/yyyy\\'}}</td></tr></tbody></table></rd-widget-body><rd-widget-footer ng-show=\\\"users.list && state == \\'all\\' && !searchMode\\\"><mno-pagination page=\\\"users.page\\\" nb-items=\\\"users.nbItems\\\" total-items=\\\"users.totalItems\\\" on-change-cb=\\\"users.pageChangedCb(nbItems, page)\\\" is-loading=\\\"users.loading\\\"></mno-pagination></rd-widget-footer></rd-widget>\");\n$templateCache.put(\"app/components/mnoe-users-local-list/mnoe-users-local-list.html\",\"<rd-widget><rd-widget-header icon=\\\"fa-users\\\" title=\\\"{{users.widgetTitle}}\\\">&nbsp;<a href=\\\"\\\" ng-click=\\\"switchState()\\\" ng-show=\\\"list && users.switchLinkTitle\\\">{{users.switchLinkTitle}}</a> <input type=\\\"text\\\" ng-model=\\\"users.search\\\" ng-change=\\\"searchChange()\\\" placeholder=\\\"Search all\\\" class=\\\"form-control input-sm search-bar\\\"></rd-widget-header><rd-widget-body loading=\\\"!list\\\" classes=\\\"medium no-padding\\\"><table class=\\\"table table-layout-fixed\\\"><thead><tr><th>Username</th><th style=\\\"width: 100px;\\\">Creation</th><th style=\\\"width: 140px;\\\">Status</th><th style=\\\"width: 100px;\\\" ng-if=\\\"impersonation_enabled\\\"></th></tr></thead><tbody><tr ng-repeat=\\\"user in users.displayList\\\"><td><a ui-sref=\\\"dashboard.home.user({userId: user.id})\\\"><div ng-show=\\\"user.name && user.surname\\\">{{::user.name}} {{::user.surname}}</div><div ng-show=\\\"!user.name && !user.surname\\\">nc</div><small>{{::user.email}}</small></a></td><td>{{user.created_at | date: \\'dd/MM/yyyy\\'}}</td><td><button ng-show=\\\"user.status === \\'pending\\'\\\" ng-click=\\\"sendInvitation(user)\\\" class=\\\"btn btn-xs btn-default\\\" ng-disabled=\\\"user.isSendingInvite\\\"><span ng-show=\\\"user.isSendingInvite\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> INVITE</button> <button ng-show=\\\"user.status === \\'invited\\'\\\" ng-click=\\\"sendInvitation(user)\\\" class=\\\"btn btn-xs btn-default\\\" ng-disabled=\\\"user.isSendingInvite\\\"><span ng-show=\\\"user.isSendingInvite\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> RESEND INVITE</button> <span ng-show=\\\"user.status === \\'active\\'\\\">Active</span></td><td ng-if=\\\"impersonation_enabled\\\"><a href=\\\"\\\" ng-click=\\\"impersonateUser(user)\\\">Log In as...</a></td></tr></tbody></table></rd-widget-body></rd-widget>\");\n$templateCache.put(\"app/components/rdash-angular/kpi-body-currency.html\",\"<span>{{currency}} {{amount}}</span>\");\n$templateCache.put(\"app/components/rdash-angular/kpi-body-number.html\",\"<span>{{number}}</span>\");\n$templateCache.put(\"app/components/rdash-angular/kpi.html\",\"<div class=\\\"visual\\\"><i class=\\\"fa\\\" ng-class=\\\"icon\\\"></i></div><div class=\\\"details\\\"><div class=\\\"loader\\\" ng-show=\\\"loading\\\"><i class=\\\"fa fa-2x fa-spin fa-refresh\\\"></i></div><div class=\\\"body\\\" ng-transclude=\\\"\\\"></div><div class=\\\"desc\\\">{{description}}</div></div><a class=\\\"more\\\" ng-href=\\\"{{link}}\\\" ng-if=\\\"link\\\">{{ linkText || \\'View more\\'}} <i class=\\\"fa fa-arrow-circle-o-right\\\"></i></a>\");\n$templateCache.put(\"app/views/customers/customers.html\",\"<div id=\\\"customers\\\"><div class=\\\"row\\\"><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-1\\\" description=\\\"Users\\\" icon=\\\"fa-users\\\" loading=\\\"!vm.users.totalCount\\\"><rd-kpi-body-number number=\\\"{{vm.users.totalCount}}\\\"></rd-kpi-body-number></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-2\\\" description=\\\"Organizations\\\" icon=\\\"fa-sitemap\\\" loading=\\\"!vm.organizations.totalCount\\\"><rd-kpi-body-number number=\\\"{{vm.organizations.totalCount}}\\\"></rd-kpi-body-number></rd-kpi></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><div class=\\\"btn-group pull-right top-buffer-1\\\" uib-dropdown=\\\"\\\" keyboard-nav=\\\"\\\"><button id=\\\"simple-btn-keyboard-nav\\\" type=\\\"button\\\" class=\\\"btn btn-primary\\\" uib-dropdown-toggle=\\\"\\\">New customer <span class=\\\"caret\\\"></span></button><ul class=\\\"dropdown-menu\\\" uib-dropdown-menu=\\\"\\\" role=\\\"menu\\\" aria-labelledby=\\\"simple-btn-keyboard-nav\\\"><li role=\\\"menuitem\\\"><a href=\\\"\\\" ng-click=\\\"vm.inviteUserModal()\\\">Invite a customer</a></li><li role=\\\"menuitem\\\"><a ui-sref=\\\"dashboard.customers.create-step-1\\\">Create a customer</a></li></ul></div></div><div class=\\\"col-xs-12\\\"><mnoe-organizations-list view=\\\"all\\\"></mnoe-organizations-list></div><div class=\\\"col-xs-12\\\"><mnoe-users-list view=\\\"all\\\"></mnoe-users-list></div></div></div>\");\n$templateCache.put(\"app/views/finance/finance.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-1\\\" description=\\\"Current billing\\\" icon=\\\"fa-file-text-o\\\" loading=\\\"!vm.invoices.currentBillingAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.currentBillingAmount.amount}}\\\" currency=\\\"{{vm.invoices.currentBillingAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-2\\\" description=\\\"Last customer invoicing\\\" icon=\\\"fa-file-text-o\\\" loading=\\\"!vm.invoices.lastInvoicingAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.lastInvoicingAmount.amount}}\\\" currency=\\\"{{vm.invoices.lastInvoicingAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-3\\\" description=\\\"Last revenue\\\" icon=\\\"fa-file-text-o\\\" loading=\\\"!vm.invoices.lastPortfolioAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.lastPortfolioAmount.amount}}\\\" currency=\\\"{{vm.invoices.lastPortfolioAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-4\\\" description=\\\"Last commission\\\" icon=\\\"fa-file-text-o\\\" loading=\\\"!vm.invoices.lastCommissionAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.lastCommissionAmount.amount}}\\\" currency=\\\"{{vm.invoices.lastCommissionAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-6\\\"><rd-widget><rd-widget-header icon=\\\"fa-exclamation-circle\\\" title=\\\"Customer accounts in arrears\\\"></rd-widget-header><rd-widget-body classes=\\\"large no-padding\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr><th>Organisation</th><th>Amount</th><th>Reason</th></tr></thead><tbody><tr ng-repeat=\\\"arrear in vm.organizations.inArrears\\\"><td>{{arrear.name}}</td><td ng-if=\\\"arrear.amount\\\">{{arrear.amount.options.iso_code}} {{arrear.amount.value}}</td><td ng-if=\\\"!arrear.amount\\\">-</td><td>{{arrear.category}}</td></tr></tbody></table></div></rd-widget-body></rd-widget></div><div class=\\\"col-lg-6\\\"><rd-widget><rd-widget-header icon=\\\"fa-file-text-o\\\" title=\\\"Your partner reports\\\"></rd-widget-header><rd-widget-body loading=\\\"!vm.invoices.tenantInvoices\\\" classes=\\\"large no-padding\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr><th>Start</th><th>End</th><th>Revenue</th><th>Commission</th><th class=\\\"text-center\\\">Paid</th></tr></thead><tbody><tr ng-repeat=\\\"invoice in vm.invoices.tenantInvoices\\\"><td>{{invoice.started_at | date: \\'dd/MM/yyyy\\'}}</td><td>{{invoice.ended_at | date: \\'dd/MM/yyyy\\'}}</td><td>{{invoice.total_portfolio_amount.options.iso_code}} {{invoice.total_portfolio_amount.value}}</td><td>{{invoice.total_commission_amount.options.iso_code}} {{invoice.total_commission_amount.value}}</td><td class=\\\"text-center\\\"><span ng-if=\\\"invoice.paid_at\\\" class=\\\"text-success\\\">Yes</span> <span ng-if=\\\"!invoice.paid_at\\\" class=\\\"text-danger\\\">No</span></td></tr></tbody></table></div></rd-widget-body></rd-widget></div></div>\");\n$templateCache.put(\"app/views/home/home.html\",\"<div class=\\\"row\\\"><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-1\\\" description=\\\"Users\\\" icon=\\\"fa-users\\\" link=\\\"#/customers\\\" link-text=\\\"{{vm.users.kpi.new_month_count}} new this current month\\\" loading=\\\"!vm.users.kpi\\\"><rd-kpi-body-number number=\\\"{{vm.users.kpi.total_count}}\\\"><rd-kpi-body-number></rd-kpi-body-number></rd-kpi-body-number></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-2\\\" description=\\\"Organizations\\\" icon=\\\"fa-sitemap\\\" link=\\\"#/customers\\\" link-text=\\\"{{vm.organizations.kpi.with_cc_count}} with a credit card\\\" loading=\\\"!vm.organizations.kpi\\\"><rd-kpi-body-number number=\\\"{{vm.organizations.kpi.total_count}}\\\"><rd-kpi-body-number></rd-kpi-body-number></rd-kpi-body-number></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-3\\\" description=\\\"Last customer invoicing\\\" icon=\\\"fa-file-text-o\\\" link=\\\"#/finance\\\" loading=\\\"!vm.invoices.lastInvoicingAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.lastInvoicingAmount.amount}}\\\" currency=\\\"{{vm.invoices.lastInvoicingAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div><div class=\\\"col-lg-3 col-md-6 col-xs-12\\\"><rd-kpi class=\\\"kpi-color-4\\\" description=\\\"Still to be paid\\\" icon=\\\"fa-money\\\" link=\\\"#/finance\\\" loading=\\\"!vm.invoices.outstandingAmount\\\"><rd-kpi-body-currency amount=\\\"{{vm.invoices.outstandingAmount.amount}}\\\" currency=\\\"{{vm.invoices.outstandingAmount.currency}}\\\"><rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi-body-currency></rd-kpi></div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><mnoe-users-list view=\\\"last\\\"></mnoe-users-list></div><div class=\\\"col-md-6\\\"><mnoe-organizations-list view=\\\"last\\\"></mnoe-organizations-list></div></div>\");\n$templateCache.put(\"app/views/organization/organization.html\",\"<div id=\\\"organization\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><h1>Organisation info</h1><rd-widget loading=\\\"!vm.organization.invoices\\\"><rd-widget-header icon=\\\"fa-sitemap\\\" title=\\\"{{vm.organization.name}}\\\"></rd-widget-header><rd-widget-body><div class=\\\"bs-row row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"label-cell\\\">UID</div></div><div class=\\\"col-xs-6\\\">{{vm.organization.uid}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-xs-6\\\"><div class=\\\"label-cell\\\">Credit Card</div></div><div class=\\\"col-xs-6\\\"><span ng-if=\\\"vm.organization.credit_card.presence\\\" class=\\\"text-success\\\">Yes</span> <span ng-if=\\\"!vm.organization.credit_card.presence\\\" class=\\\"text-danger\\\">No</span></div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-6\\\"><div class=\\\"label-cell\\\">Active apps <a ng-if=\\\"vm.organization.active_apps.length > 0 && vm.hasDisconnectedApps\\\" ui-sref=\\\"dashboard.customers.connect-app({orgId: vm.organization.id})\\\">(connect the apps)</a></div></div><div class=\\\"col-sm-6\\\"><div class=\\\"bs-row row apps-box\\\"><div class=\\\"app-wrapper col-xs-6 col-sm-4 col-md-3\\\" ng-repeat=\\\"app in vm.organization.active_apps\\\"><div class=\\\"small-app-card ellipsis\\\"><i class=\\\"fa fa-trash app-remove\\\" ng-click=\\\"vm.openRemoveAppModal(app, $index)\\\" uib-tooltip=\\\"Remove {{::app.app_name}}\\\" tooltip-append-to-body=\\\"true\\\"></i> <i ng-show=\\\"vm.status[app.nid]\\\" class=\\\"fa fa-check-circle app-state state-success\\\" uib-tooltip=\\\"{{::app.app_name}} is connected!\\\" tooltip-append-to-body=\\\"true\\\"></i> <i ng-show=\\\"!vm.status[app.nid]\\\" class=\\\"fa fa-exclamation-circle app-state state-warning\\\" uib-tooltip=\\\"{{::app.app_name}} is not connected.\\\" tooltip-append-to-body=\\\"true\\\"></i> <img ng-src=\\\"{{::app.app_logo}}\\\" width=\\\"60\\\"> <span>{{::app.app_name}}</span></div></div><div class=\\\"app-wrapper col-xs-6 col-sm-4 col-md-3\\\"><div class=\\\"small-app-card ellipsis add-app\\\" ng-click=\\\"vm.openAddAppModal()\\\"><span>Add an app<i class=\\\"fa fa-plus\\\"></i></span></div></div></div></div></div></rd-widget-body></rd-widget></div></div><div class=\\\"row\\\"><div class=\\\"col-xs-12 top-buffer-1\\\"><button role=\\\"button\\\" ng-click=\\\"vm.users.createUserModal()\\\" ng-disabled=\\\"!vm.organization\\\" class=\\\"btn btn-primary\\\">Add a user</button></div></div><div class=\\\"row\\\"><div class=\\\"col-md-6\\\"><mnoe-users-local-list list=\\\"vm.organization.members\\\" organization=\\\"vm.organization\\\" view=\\\"all\\\"></mnoe-users-local-list></div><div class=\\\"col-md-6\\\"><rd-widget><rd-widget-header icon=\\\"fa-file-text-o\\\" title=\\\"Invoices\\\"></rd-widget-header><rd-widget-body loading=\\\"!vm.organization.invoices\\\" classes=\\\"medium no-padding\\\"><div class=\\\"table-responsive\\\"><table class=\\\"table\\\"><thead><tr><th>Start</th><th>End</th><th>Amount</th><th class=\\\"text-center\\\">Paid</th></tr></thead><tbody><tr ng-repeat=\\\"invoice in vm.organization.invoices\\\"><td>{{invoice.started_at | date: \\'dd/MM/yyyy\\'}}</td><td>{{invoice.ended_at | date: \\'dd/MM/yyyy\\'}}</td><td>{{invoice.amount.options.iso_code}} {{invoice.amount.value}}</td><td class=\\\"text-center\\\"><span ng-if=\\\"invoice.paid\\\" class=\\\"text-success\\\">Yes</span> <span ng-if=\\\"!invoice.paid\\\" class=\\\"text-danger\\\">No</span></td></tr></tbody></table></div></rd-widget-body></rd-widget></div></div></div>\");\n$templateCache.put(\"app/views/reviews/reviews.html\",\"<div class=\\\"row\\\"><div class=\\\"col-xs-8 col-lg-offset-1 top-buffer-1\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-10 col-lg-offset-1 col-md-12\\\"><mnoe-reviews-list></mnoe-reviews-list></div></div>\");\n$templateCache.put(\"app/views/staff/staff.html\",\"<div class=\\\"row\\\"><div class=\\\"col-xs-8 col-lg-offset-1 top-buffer-1\\\"><button role=\\\"button\\\" ng-click=\\\"vm.staff.createModal()\\\" class=\\\"btn btn-primary\\\">Add staff</button></div></div><div class=\\\"row\\\"><div class=\\\"col-lg-10 col-lg-offset-1 col-md-12\\\"><mnoe-staffs-list view=\\\"all\\\"></mnoe-staffs-list></div></div>\");\n$templateCache.put(\"app/views/user/user.html\",\"<div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><h1><i class=\\\"fa fa-users\\\"></i> User info</h1><div class=\\\"panel panel-default top-buffer-2\\\"><div class=\\\"panel-heading\\\" ng-show=\\\"vm.user\\\"><h3 ng-show=\\\"user.name && user.surname\\\" class=\\\"panel-title\\\">{{::vm.user.name}} {{::vm.user.surname}}</h3><h3 ng-show=\\\"!user.name && !user.surname\\\" class=\\\"panel-title\\\">{{::vm.user.email}}</h3></div><div class=\\\"panel-body\\\"><rd-loading ng-show=\\\"!vm.user\\\"></rd-loading><div ng-show=\\\"vm.user\\\"><div class=\\\"bs-row row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"label-cell\\\">Email</div></div><div class=\\\"col-md-3\\\">{{::vm.user.email}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"label-cell\\\">UID</div></div><div class=\\\"col-md-3\\\">{{::vm.user.uid}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-md-3\\\"><div class=\\\"label-cell\\\">Phone</div></div><div class=\\\"col-md-3\\\">{{vm.user.phone || \\'(none)\\'}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"label-cell\\\">Admin role</div></div><div class=\\\"col-sm-3\\\">{{vm.user.admin_role || \\'(none)\\'}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"label-cell\\\">Creation date</div></div><div class=\\\"col-sm-3\\\">{{vm.user.created_at | amCalendar }}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"label-cell\\\">Confirmed</div></div><div class=\\\"col-sm-3\\\">{{(vm.user.confirmed_at | amCalendar) || \\'(Not confirmed yet)\\'}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"label-cell\\\">Last sign in</div></div><div class=\\\"col-sm-3\\\">{{(vm.user.last_sign_in_at | amCalendar) || \\'(Never signed in yet)\\'}}</div></div><div class=\\\"bs-row row\\\"><div class=\\\"col-sm-3\\\"><div class=\\\"label-cell\\\">Number of sign in</div></div><div class=\\\"col-sm-3\\\">{{vm.user.sign_in_count}}</div></div></div></div></div><div class=\\\"bs-row\\\"><div class=\\\"col-sm-4 col-sm-offset-4\\\" ng-if=\\\"vm.impersonation_enabled\\\"><button class=\\\"btn btn-primary center-block\\\" ng-click=\\\"vm.impersonateUser()\\\">Log In as User</button></div><div class=\\\"col-sm-12 top-buffer-2\\\"><mnoe-organizations-local-list list=\\\"vm.user.organizations\\\" view=\\\"all\\\"></mnoe-organizations-local-list></div></div></div></div>\");\n$templateCache.put(\"app/views/customers/app-connect-modal/app-connect-modal-myob.html\",\"<div id=\\\"app-connect-modal\\\"><div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" aria-label=\\\"Close\\\" ng-click=\\\"vm.close()\\\">×</div><h3 class=\\\"modal-title\\\">Connect to {{vm.app.name}}</h3></div><div class=\\\"modal-body\\\"><h4 class=\\\"text-center\\\">Which version of MYOB do you use?</h4><div class=\\\"top-buffer-2\\\"></div><form><input type=\\\"hidden\\\" ng-model=\\\"vm.form.perform\\\"><div class=\\\"top-buffer-1\\\"></div><div class=\\\"form-group text-center\\\"><label>My version of MYOB is:</label><select ng-model=\\\"vm.form.version\\\" name=\\\"version\\\" ng-options=\\\"version.value as version.name for version in vm.versions\\\"></select></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.connect(vm.form)\\\">Connect</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"vm.close()\\\">Cancel</button></div></div>\");\n$templateCache.put(\"app/views/customers/app-connect-modal/app-connect-modal-xero.html\",\"<div id=\\\"app-connect-modal\\\"><div class=\\\"modal-header\\\"><div class=\\\"close\\\" type=\\\"button\\\" aria-label=\\\"Close\\\" ng-click=\\\"vm.close()\\\">×</div><h3 class=\\\"modal-title\\\">Connect to {{vm.app.name}}</h3></div><div class=\\\"modal-body\\\"><h4 class=\\\"text-center\\\">How do you want us to connect your Xero account?</h4><div class=\\\"top-buffer-1\\\"></div><form><input type=\\\"hidden\\\" ng-model=\\\"vm.form.perform\\\"><div class=\\\"top-buffer-2\\\"></div><div class=\\\"form-group text-center\\\"><h5>Do you want to connect any of the following extra modules?</h5><label>Payroll</label> <input type=\\\"checkbox\\\" ng-model=\\\"vm.payroll\\\" name=\\\"extra_params[]\\\"></div><div class=\\\"form-group text-center\\\" ng-if=\\\"vm.payroll\\\" ng-cloak=\\\"true\\\"><h5>What is the country associated with your Xero account?</h5><select ng-model=\\\"vm.form.xero_country\\\" name=\\\"xero_country\\\" ng-options=\\\"country.value as country.name for country in vm.countries\\\"></select></div></form></div><div class=\\\"modal-footer\\\"><button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" ng-click=\\\"vm.connect(vm.form)\\\">Connect</button> <button class=\\\"btn btn-default\\\" ng-click=\\\"vm.close()\\\">Cancel</button></div></div>\");\n$templateCache.put(\"app/views/customers/connect-app/connect-app.html\",\"<div id=\\\"create-step-1\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><h1>Connect your customer\\'s cloud apps</h1><rd-widget class=\\\"top-buffer-2\\\" loading=\\\"vm.isLoading\\\"><rd-widget-header icon=\\\"fa-plug fa-cloud\\\" title=\\\"{{::vm.organization.name}}\\'s cloud apps\\\"></rd-widget-header><rd-widget-body classes=\\\"no-padding\\\"><table class=\\\"table table-layout-fixed\\\"><thead><tr><th>App</th><th style=\\\"width: 33%;\\\">State</th><th style=\\\"width: 75px;\\\">Action</th></tr></thead><tbody><tr ng-repeat=\\\"app in vm.organization.active_apps | filter : {stack: \\'connector\\'}\\\"><td class=\\\"nowrap\\\"><img class=\\\"small-app-logo\\\" ng-src=\\\"{{::main.trustSrc(app.app_logo)}}\\\" alt=\\\"{{::app.name}} logo\\\"> <span class=\\\"app-name\\\">{{::app.name}}</span></td><td><div ng-show=\\\"!vm.mnoAppInstances.isOauthConnected(app)\\\"><i class=\\\"fa fa-exclamation-triangle text-danger\\\"></i> <span>Not connected</span></div><div ng-show=\\\"vm.mnoAppInstances.isOauthConnected(app)\\\"><i class=\\\"fa fa-check-square-o text-success\\\"></i> <span>Connected!</span></div></td><td><a class=\\\"btn-connect\\\" href=\\\"\\\" ng-show=\\\"!vm.mnoAppInstances.isOauthConnected(app)\\\" ng-click=\\\"vm.connectAppInstance(app)\\\">Connect</a></td></tr></tbody></table></rd-widget-body></rd-widget><button type=\\\"button\\\" class=\\\"btn btn-primary pull-right top-buffer-2\\\" ui-sref=\\\"dashboard.home.organization({ orgId: vm.orgId })\\\">Next <i class=\\\"fa fa-chevron-right\\\"></i></button></div></div></div>\");\n$templateCache.put(\"app/views/customers/create-step-1/create-step-1.html\",\"<div id=\\\"create-step-1\\\"><div class=\\\"row\\\"><div class=\\\"col-xs-12\\\"><h1>Create a new customer</h1><form name=\\\"vm.form\\\" novalidate=\\\"\\\"><rd-widget id=\\\"org-form\\\" class=\\\"top-buffer-2\\\"><rd-widget-header icon=\\\"fa-sitemap\\\" title=\\\"Organisation details\\\"></rd-widget-header><rd-widget-body><div class=\\\"flex-container flex-center\\\"><div class=\\\"form-group flex-50\\\"><label class=\\\"control-label\\\" for=\\\"organization-name\\\">Organisation name</label> <input id=\\\"organization-name\\\" name=\\\"name\\\" type=\\\"text\\\" ng-model=\\\"vm.organization.name\\\" class=\\\"form-control\\\" required=\\\"\\\"><div ng-messages=\\\"vm.form.name.$error\\\" role=\\\"alert\\\" ng-if=\\\"vm.form.name.$dirty || vm.form.$submitted\\\"><p ng-message=\\\"required\\\" class=\\\"text-danger\\\">Name is required.</p><p ng-message=\\\"server\\\" class=\\\"help-block\\\">Name {{ main.errorHandler.errorMessage(\\'name\\') }}</p></div></div></div></rd-widget-body></rd-widget><rd-widget class=\\\"top-buffer-2\\\"><rd-widget-header icon=\\\"fa-rocket\\\" title=\\\"Select your apps\\\"><input type=\\\"text\\\" ng-model=\\\"vm.appSearch\\\" placeholder=\\\"Search\\\" class=\\\"form-control input-sm search-bar\\\"></rd-widget-header><rd-widget-body loading=\\\"!vm.marketplace\\\"><div class=\\\"apps-container\\\"><div class=\\\"app-icon\\\" ng-repeat=\\\"app in vm.marketplace.apps | filter:{name: vm.appSearch}\\\"><div class=\\\"app-icon-wrapper\\\" ng-click=\\\"vm.toggleApp(app)\\\"><div class=\\\"checked\\\" ng-show=\\\"app.checked\\\"><i class=\\\"fa fa-check fa-5x\\\"></i></div><img class=\\\"app-logo img-thumbnail\\\" ng-src=\\\"{{::main.trustSrc(app.logo)}}\\\" alt=\\\"{{::app.name}} logo\\\" title=\\\"{{::app.tiny_description}}\\\"></div><div class=\\\"app-title\\\">{{::app.name}}</div></div></div></rd-widget-body></rd-widget><button type=\\\"submit\\\" class=\\\"btn btn-danger pull-right top-buffer-2\\\" ng-click=\\\"vm.submitOrganisation()\\\" ng-disabled=\\\"vm.isLoading\\\"><span ng-show=\\\"vm.isLoading\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> Create</button></form></div></div></div>\");\n$templateCache.put(\"app/views/customers/invite-user-modal/invite-user.html\",\"<div id=\\\"create-user\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Invite a user</h3></div><form name=\\\"vm.form.user\\\" novalidate=\\\"\\\"><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-6 col-sm-offset-3\\\"><input type=\\\"email\\\" class=\\\"form-control input-sm\\\" id=\\\"user-email\\\" ng-model=\\\"vm.user.email\\\" placeholder=\\\"Email\\\" aria-label=\\\"Email\\\" required=\\\"\\\"></div></div></div></form><div class=\\\"modal-footer\\\"><div class=\\\"row actions\\\"><div class=\\\"col-xs-12\\\"><button type=\\\"button\\\" ng-click=\\\"vm.onSubmit()\\\" ng-disabled=\\\"vm.isLoading || vm.form.user.$invalid\\\" class=\\\"btn btn-primary\\\"><span ng-show=\\\"vm.isLoading\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> Send</button> <a href=\\\"\\\" ng-click=\\\"vm.onCancel()\\\"><i class=\\\"fa fa-times\\\"></i> cancel</a></div></div></div></div>\");\n$templateCache.put(\"app/views/organization/add-app-modal/add-app-modal.html\",\"<div id=\\\"add-app-modal\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Add more apps</h3><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"vm.closeModal()\\\">×</div></div><div class=\\\"modal-body\\\" style=\\\"max-height:{{vm.modal_height}};\\\"><div class=\\\"alert alert-danger modal-error\\\" ng-if=\\\"vm.displayError\\\"><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"vm.closeError()\\\">×</div><strong>Error:</strong> <b ng-repeat=\\\"app in vm.ListOfApps track by $index\\\">{{app}}{{$last ? \\'\\' : \\', \\'}}</b> could not be added. Please try again in a moment.</div><div class=\\\"apps-search\\\" ng-if=\\\"!vm.loading.modal\\\"><input type=\\\"search\\\" ng-model=\\\"vm.appSearch\\\" placeholder=\\\"Search...\\\"></div><div class=\\\"apps-container\\\"><div class=\\\"app-loader\\\" ng-if=\\\"vm.loading.modal\\\"><i class=\\\"fa fa-pulse fa-spinner\\\"></i></div><div class=\\\"app-icon\\\" ng-repeat=\\\"app in vm.marketplace.filtered_apps | filter:{name: vm.appSearch}\\\"><div class=\\\"app-icon-wrapper\\\" ng-click=\\\"vm.toggleApp(app)\\\"><div class=\\\"checked\\\" ng-show=\\\"app.checked\\\"><i class=\\\"fa fa-check fa-5x\\\"></i></div><img class=\\\"app-logo img-thumbnail\\\" ng-src=\\\"{{app.logo}}\\\" alt=\\\"{{::app.name}} logo\\\" title=\\\"{{::app.tiny_description}}\\\"></div><div class=\\\"app-title\\\">{{::app.name}}</div></div></div></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button ng-click=\\\"vm.addApps()\\\" ng-disabled=\\\"vm.loading.apps\\\" class=\\\"btn btn-primary arrow\\\"><span ng-show=\\\"vm.loading.apps\\\"><i class=\\\"fa fa-pulse fa-spinner\\\"></i></span> Add</button> <button ng-click=\\\"vm.closeModal()\\\" class=\\\"btn btn-default\\\">Cancel</button></div></div></div></div>\");\n$templateCache.put(\"app/views/organization/create-user-modal/create-user.html\",\"<div id=\\\"create-user\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Add a new user</h3></div><form name=\\\"vm.form.user\\\" novalidate=\\\"\\\"><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"user-first-name\\\" ng-model=\\\"vm.user.name\\\" placeholder=\\\"First Name\\\" aria-label=\\\"First Name\\\" required=\\\"\\\"></div><div class=\\\"col-sm-6\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"user-last-name\\\" ng-model=\\\"vm.user.surname\\\" placeholder=\\\"Last Name\\\" aria-label=\\\"Last Name\\\" required=\\\"\\\"></div></div><div class=\\\"row top-buffer-1\\\"><div class=\\\"col-sm-6\\\"><input type=\\\"phone\\\" class=\\\"form-control input-sm\\\" id=\\\"user-phone\\\" ng-model=\\\"vm.user.phone\\\" placeholder=\\\"Phone\\\" aria-label=\\\"Phone\\\" required=\\\"\\\"></div><div class=\\\"col-sm-6\\\"><input type=\\\"email\\\" class=\\\"form-control input-sm\\\" id=\\\"user-email\\\" ng-model=\\\"vm.user.email\\\" placeholder=\\\"Email\\\" aria-label=\\\"Email\\\" required=\\\"\\\"></div></div><div class=\\\"row\\\"><div class=\\\"col-sm-6 col-sm-offset-3\\\"><select ng-model=\\\"vm.user.role\\\" class=\\\"form-control input-sm top-buffer-1\\\" ng-options=\\\"role for role in vm.USER_ROLES\\\" required=\\\"\\\"><option value=\\\"\\\" disabled=\\\"\\\" selected=\\\"\\\" style=\\\"display: none;\\\">Role</option></select></div></div></div></form><div class=\\\"modal-footer\\\"><div class=\\\"row actions\\\"><div class=\\\"col-xs-12\\\"><button type=\\\"button\\\" ng-click=\\\"vm.onSubmit()\\\" ng-disabled=\\\"vm.isLoading || vm.form.user.$invalid\\\" class=\\\"btn btn-primary\\\"><span ng-show=\\\"vm.isLoading\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> Save</button> <a href=\\\"\\\" ng-click=\\\"vm.onCancel()\\\"><i class=\\\"fa fa-times\\\"></i> cancel</a></div></div></div></div>\");\n$templateCache.put(\"app/views/organization/remove-app-modal/remove-app-modal.html\",\"<div id=\\\"remove-app-modal\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Remove {{::vm.app.name}}</h3><div class=\\\"close\\\" type=\\\"button\\\" ng-click=\\\"vm.closeModal()\\\">×</div></div><div class=\\\"modal-body\\\"><p>Are you sure you sure that you want to remove this app?</p></div><div class=\\\"modal-footer\\\"><div class=\\\"row\\\"><div class=\\\"col-md-12\\\"><button ng-click=\\\"vm.deleteApp()\\\" class=\\\"btn btn-danger arrow\\\" ng-disabled=\\\"vm.modal.loading\\\"><span ng-show=\\\"vm.modal.loading\\\"><i class=\\\"fa fa-pulse fa-spinner\\\"></i></span> Yes</button> <button ng-click=\\\"vm.closeModal()\\\" class=\\\"btn btn-default\\\">No</button></div></div></div></div>\");\n$templateCache.put(\"app/views/staff/create-staff-modal/create-staff.html\",\"<div id=\\\"staff-user-modal\\\"><div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Add a new staff</h3></div><form name=\\\"vm.form.user\\\" novalidate=\\\"\\\"><div class=\\\"modal-body\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-6\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"user-first-name\\\" ng-model=\\\"vm.user.name\\\" placeholder=\\\"First Name\\\" aria-label=\\\"First Name\\\" required=\\\"\\\"></div><div class=\\\"col-sm-6\\\"><input type=\\\"text\\\" class=\\\"form-control input-sm\\\" id=\\\"user-last-name\\\" ng-model=\\\"vm.user.surname\\\" placeholder=\\\"Last Name\\\" aria-label=\\\"Last Name\\\" required=\\\"\\\"></div></div><div class=\\\"row top-buffer-1\\\"><div class=\\\"col-sm-6\\\"><input type=\\\"email\\\" class=\\\"form-control input-sm\\\" id=\\\"user-email\\\" ng-model=\\\"vm.user.email\\\" placeholder=\\\"Email\\\" aria-label=\\\"Email\\\" required=\\\"\\\"></div><div class=\\\"col-sm-6\\\"><select ng-model=\\\"vm.user.admin_role\\\" class=\\\"form-control input-sm\\\" ng-options=\\\"role for role in vm.admin_roles\\\" required=\\\"\\\"><option value=\\\"\\\" disabled=\\\"\\\" selected=\\\"\\\">- Role -</option></select></div></div></div></form><div class=\\\"modal-footer\\\"><div class=\\\"row actions\\\"><div class=\\\"col-xs-12\\\"><button type=\\\"button\\\" ng-click=\\\"vm.onSubmit()\\\" ng-disabled=\\\"vm.isLoading || vm.form.user.$invalid\\\" class=\\\"btn btn-primary\\\"><span ng-show=\\\"vm.isLoading\\\"><i class=\\\"fa fa-spinner fa-pulse fa-fw\\\"></i></span> Save</button> <a href=\\\"\\\" ng-click=\\\"vm.onCancel()\\\"><i class=\\\"fa fa-times\\\"></i> Cancel</a></div></div></div></div>\");}]);"],"sourceRoot":"/source/"}